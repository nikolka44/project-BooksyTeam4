import{a as k,i as q,S as D,N,K as F,A as j,P as K}from"./assets/vendor-D06mhQYR.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const c of n.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function o(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerPolicy&&(n.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?n.credentials="include":s.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(s){if(s.ep)return;s.ep=!0;const n=o(s);fetch(s.href,n)}})();const U=document.querySelector("[data-menu-open]"),G=document.querySelector("[data-menu-close]"),I=document.querySelector("[data-menu]");U.addEventListener("click",()=>{I.classList.add("is-open"),document.body.style.overflow="hidden",document.body.style.overflow="hidden"});G.addEventListener("click",()=>{I.classList.remove("is-open"),document.body.style.overflow="",document.body.style.overflow=""});document.querySelectorAll(".nav-link-mob").forEach(e=>e.addEventListener("click",()=>{I.classList.remove("is-open"),document.body.style.overflow="",document.body.style.overflow=""}));const a={dropdownToggle:document.querySelector(".dropdown-toggle"),dropdownMenu:document.querySelector(".dropdown-menu"),categoriesList:document.querySelector(".categories-list"),bookCardList:document.querySelector(".books-cards-list"),showMoreBtn:document.querySelector(".show-more-btn"),bookModalBackdrop:document.querySelector("#book-modal-backdrop"),bookModalContent:document.querySelector(".book-modal-content"),bookModalClose:document.querySelector("#book-modal-close"),booksShown:document.querySelector(".books-shown"),booksTotal:document.querySelector(".books-total"),body:document.querySelector("body")};k.defaults.baseURL="https://books-backend.p.goit.global";function L(e,t){throw console.error(`${t} error:`,e.message||e),e}async function Y(){try{return(await k.get("/books/category-list")).data.filter(o=>o.list_name&&o.list_name.trim()!=="").map(o=>o.list_name)}catch(e){L(e,"getCategoryList")}}async function J(){try{return(await k.get("/books/top-books")).data.flatMap(o=>o.books)}catch(e){L(e,"getTopBooks")}}async function Q(e){try{const{data:t}=await k.get("/books/category",{params:{category:e}});return console.log(t),t}catch(t){L(t,"getBooksByCategory")}}async function Z(e){try{const{data:t}=await k.get(`/books/${e}`);return t}catch(t){L(t,"getBookById")}}function ee(e){const o=["All categories",...e].map(i=>`<li class="dropdown-item">${i}</li>`).join("");a.dropdownMenu.innerHTML=o}function te(e){const o=["All categories",...e].map(i=>`<li class="categories-item" data-category="${i}">${i}</li>`).join("");a.categoriesList.innerHTML=o}function oe(e){return e?e.toLowerCase().split(" ").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" "):""}function ne(e){const t=e.map(({_id:o,book_image:i,description:s="description || title",title:n,author:c,price:m})=>{const b=oe(n),g=parseInt(m);return`<li class="books-card" data-id="${o}">
        <img loading="lazy" class="books-card-image" src="${i}" alt="${s}" />
         <div class="books-card-text-wrapper">

            <div class="books-card-info">
              <h3 class="books-card-title">${b}</h3>
              <p class="books-card-author">${c}</p>
            </div>

            <p class="books-card-price">$${g}</p>

          </div>
        <button class="books-card-btn" type="button">Learn More</button>
      </li>`}).join("");a.bookCardList.insertAdjacentHTML("beforeend",t)}function se(e){return`
    <div class="book-modal-wrapper">
      <img
        src="${e.book_image}"
        alt="${e.title}"
        class="book-modal-image"
      />
      <div class="book-modal-describe">
        <h2 class="book-modal-title">${e.title}</h2>
        <p class="book-modal-author">${e.author}</p>
        <p class="book-modal-price">$${e.price}</p>

        <form class="book-modal-actions">
          <div class="quantity-control">
            <button type="button" class="qty-btn minus" data-action="decrease">-</button>
            <input
             type="number"
             class="qty-value"
             name="quantity"
             value="1"
             min="1"
             max="99"
             readonly
      />
            <button type="button" class="qty-btn plus" data-action="increase">+</button>
          </div>
          <div class="book-modal-btn">
            <button type="button" class="add-to-cart-btn">Add To Cart</button>
            <button type="submit" class="buy-now-btn">Buy Now</button>
          </div>
        </form>

        <div class="book-modal-details">
          <details>
            <summary>Details</summary>
            <p>${e.description||e.title}</p>
          </details>
          <details>
            <summary>Shipping</summary>
            <p>We ship across the United States within 2‚Äì5 business days. All orders are processed through USPS or a reliable courier service. Enjoy free standard shipping on orders over $50.</p>
          </details>
          <details>
            <summary>Returns</summary>
            <p>You can return an item within 14 days of receiving your order, provided it hasn‚Äôt been used and is in its original condition. To start a return, please contact our support team ‚Äî we‚Äôll guide you through the process quickly and hassle-free.</p>
          </details>
        </div>
      </div>
    </div>
  `}function re(){const e=a.dropdownToggle,t=a.dropdownMenu;!e||!t||e.dataset.dropdownInited!=="true"&&(e.addEventListener("click",o=>{o.stopPropagation(),t.classList.toggle("open"),e.classList.toggle("active")}),t.addEventListener("click",o=>{const i=o.target.closest(".dropdown-item");if(!i)return;e.textContent=i.textContent,t.classList.remove("open"),e.classList.remove("active");const s=i.dataset.category,n=new CustomEvent("category:selected",{detail:{category:s}});document.dispatchEvent(n)}),document.addEventListener("click",o=>{!t.contains(o.target)&&!e.contains(o.target)&&(t.classList.remove("open"),e.classList.remove("active"))}),e.dataset.dropdownInited="true")}function ae(){a.bookCardList&&a.bookCardList.dataset.modalInited!=="true"&&(a.bookCardList.addEventListener("click",ie),a.bookCardList.dataset.modalInited="true")}async function ie(e){const t=e.target.closest(".books-card-btn");if(!t)return;const i=t.closest(".books-card").dataset.id;if(i){console.log(i);try{const s=await Z(i);ce(s),de()}catch(s){console.error("‚ùå Error loading book details:",s),q.error({message:"–ù–µ –≤–¥–∞–ª–æ—Å—è –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –¥–∞–Ω—ñ –∫–Ω–∏–≥–∏ üò¢",position:"topRight"})}}}function ce(e){a.bookModalContent.innerHTML=se(e),a.bookModalBackdrop.classList.remove("is-hidden"),a.bookModalClose.addEventListener("click",E),a.bookModalBackdrop.addEventListener("click",R),document.addEventListener("keydown",V),a.body.classList.add("noScroll")}function de(){const e=a.bookModalContent;if(!e){console.warn("bookOrderForm: refs.bookModalContent not found ‚Äî skipping form init");return}const t=e.querySelector(".book-modal-actions"),o=e.querySelector(".plus"),i=e.querySelector(".minus"),s=e.querySelector(".qty-value"),n=e.querySelector(".add-to-cart-btn");if(!t||!o||!i||!s||!n){console.warn("‚ö†Ô∏è Book order form not found in modal");return}o.addEventListener("click",()=>{let c=parseInt(s.value);c<parseInt(s.max)&&(s.value=c+1)}),i.addEventListener("click",()=>{let c=parseInt(s.value);c>parseInt(s.min)&&(s.value=c-1)}),n.addEventListener("click",()=>{const c=s.value;console.log(`–î–æ–¥–∞–Ω–æ –¥–æ –∫–æ—à–∏–∫–∞ ${c} –∫–Ω–∏–≥(–∏).`),q.show({message:`–î–æ–¥–∞–Ω–æ –¥–æ –∫–æ—à–∏–∫–∞ ${c} –∫–Ω–∏–≥(–∏).`,backgroundColor:"#fceee6",position:"topRight",close:!1,messageSize:"20",timeout:2e3,closeOnClick:!0})}),t.addEventListener("submit",c=>{c.preventDefault(),q.show({message:"–î—è–∫—É—î–º–æ –∑–∞ –ø–æ–∫—É–ø–∫—É üíõüíô",backgroundColor:"#e15d05",position:"topRight",close:!1,messageSize:"20",timeout:2e3})})}function E(){a.bookModalBackdrop.classList.add("is-hidden"),a.bookModalContent.innerHTML="",a.bookModalClose.removeEventListener("click",E),a.bookModalBackdrop.removeEventListener("click",R),document.removeEventListener("keydown",V),a.body.classList.remove("noScroll")}function R(e){e.target===a.bookModalBackdrop&&E()}function V(e){e.key==="Escape"&&E()}let v=[],le="All categories",p=0;const ue=4;function me(){return window.innerWidth<768?10:24}a.showMoreBtn&&a.showMoreBtn.classList.add("is-hidden");function X(){p>=v.length?a.showMoreBtn.classList.add("is-hidden"):a.showMoreBtn.classList.remove("is-hidden")}function $(){p=Math.min(p,v.length);const e=v.slice(0,p);ne(e),a.booksShown&&(a.booksShown.textContent=p),a.booksTotal&&(a.booksTotal.textContent=v.length),X(),ae()}async function T(e){try{a.showMoreBtn.classList.add("is-hidden"),le=e;let t;e==="All categories"||e==="All"||!e?t=await J():t=await Q(e),v=t,p=me(),$(),X()}catch(t){console.error("loadBooksByCategory error:",t)}}function fe(){p+=ue,$()}async function pe(){try{const e=await Y();ee(e),te(e),re(),a.dropdownMenu.addEventListener("click",t=>{const o=t.target.closest(".dropdown-item");if(!o)return;const i=o.dataset.category||o.textContent.trim();a.dropdownToggle.textContent=o.textContent.trim(),T(i)}),a.categoriesList.addEventListener("click",t=>{const o=t.target.closest(".categories-item");if(!o)return;const i=o.dataset.category||o.textContent.trim();a.categoriesList.querySelectorAll(".categories-item").forEach(s=>s.classList.remove("active")),o.classList.add("active"),T(i)})}catch(e){console.error("initCategories error:",e)}}async function be(){await pe(),await T("All categories")}a.showMoreBtn.addEventListener("click",fe);window.addEventListener("resize",()=>{$()});be();const C=document.querySelector(".hero__button--prev"),M=document.querySelector(".hero__button--next");if(C&&M){let e=function(t){C.disabled=t.isBeginning,M.disabled=t.isEnd};new D(".swiper",{modules:[N,F,j],slidesPerView:1,speed:400,grabCursor:!0,watchOverflow:!0,simulateTouch:!0,loop:!1,navigation:{nextEl:M,prevEl:C},autoplay:{delay:5e3,disableOnInteraction:!1},keyboard:{enabled:!0,onlyInViewport:!0},on:{init:e,slideChange:e}})}const S=document.querySelector(".feedbacks__btn--prev"),x=document.querySelector(".feedbacks__btn--next");if(S&&x){let e=function(t){S.disabled=t.isBeginning,x.disabled=t.isEnd};new D(".swiper-feedbacks",{modules:[N,F,j,K],slidesPerView:1,speed:400,grabCursor:!0,watchOverflow:!0,simulateTouch:!0,loop:!1,navigation:{nextEl:x,prevEl:S},autoplay:{delay:5e3,disableOnInteraction:!1},breakpoints:{0:{slidesPerView:1,spaceBetween:0},768:{slidesPerView:2,spaceBetween:24},1440:{slidesPerView:3,spaceBetween:24}},keyboard:{enabled:!0,onlyInViewport:!0},on:{init:e,slideChange:e},pagination:{el:".feedbacks__dots",clickable:!0,bulletElement:"button",bulletClass:"feedbacks__dots-elem",bulletActiveClass:"is-active",renderBullet:function(t,o){const i=`feedbacks-slide-${t+1}`;return`<button 
            type="button"
            class="${o}"
            role="button"
            aria-controls="${i}"
            aria-label="Go to testimonial ${t+1}">
          </button>`}}})}console.log("Events.js loaded");document.addEventListener("DOMContentLoaded",()=>{console.log("DOMContentLoaded fired in events.js");const e=document.querySelector(".events-list"),t=document.querySelectorAll(".event-item"),o=document.querySelector(".slider-btn.prev"),i=document.querySelector(".slider-btn.next"),s=document.querySelectorAll(".pagination-dot");if(!e||!t.length){console.error("Slider elements not found");return}let n=0;function c(){return window.innerWidth>=1440?3:window.innerWidth>=768?2:1}function m(){const r=c(),d=t[0].offsetWidth,l=(window.innerWidth>=768,24),u=n*(d+l);e.style.transform=`translateX(-${u}px)`;const f=Math.max(0,t.length-r);o&&(o.disabled=n===0),i&&(i.disabled=n>=f),s.forEach((z,H)=>{z.classList.toggle("active",H===n)})}i&&i.addEventListener("click",()=>{const r=c(),d=Math.max(0,t.length-r);n<d&&(n++,m())}),o&&o.addEventListener("click",()=>{n>0&&(n--,m())}),document.addEventListener("keydown",r=>{const d=document.activeElement;if(!(d&&(d.tagName==="INPUT"||d.tagName==="TEXTAREA"||d.isContentEditable)))if(r.key==="ArrowRight"){const u=c(),f=Math.max(0,t.length-u);n<f&&(n++,m())}else r.key==="ArrowLeft"&&n>0&&(n--,m())});let b=0,g=!1;e.addEventListener("mousedown",r=>{r.target.closest("button, a, input, textarea, select")||(g=!0,b=r.clientX)}),e.addEventListener("mouseup",r=>{if(!g)return;const d=r.clientX,l=b-d;if(Math.abs(l)>50){if(l>0){const u=c(),f=Math.max(0,t.length-u);n<f&&n++}else n>0&&n--;m()}g=!1}),e.addEventListener("mouseleave",()=>{g=!1}),e.addEventListener("touchstart",r=>{!r.touches||!r.touches[0]||(b=r.touches[0].clientX)}),e.addEventListener("touchend",r=>{if(!r.changedTouches||!r.changedTouches[0])return;const d=r.changedTouches[0].clientX,l=b-d;if(Math.abs(l)>50){if(l>0){const u=c(),f=Math.max(0,t.length-u);n<f&&n++}else n>0&&n--;m()}}),s.forEach((r,d)=>{r.addEventListener("click",()=>{const l=c(),u=Math.max(0,t.length-l);n=Math.min(d,u),m()})});let A;window.addEventListener("resize",()=>{clearTimeout(A),A=setTimeout(()=>{const r=c(),d=Math.max(0,t.length-r);n>d&&(n=d),m()},100)}),m();const y=document.getElementById("eventModal"),B=document.getElementById("modalEventName"),O=document.querySelector(".modal-close"),h=document.getElementById("eventForm"),_=document.querySelectorAll(".event-btn");if(!y||!B||!O||!h){console.error("Modal elements not found");return}console.log("Found event buttons:",_.length);function P(r){r.key==="Escape"&&w()}function W(r){B.textContent=r,y.classList.remove("is-hidden"),document.body.style.overflow="hidden",document.addEventListener("keydown",P)}function w(){y.classList.add("is-hidden"),document.body.style.overflow="",h.reset(),document.removeEventListener("keydown",P)}_.forEach((r,d)=>{console.log(`Setting up button ${d}`,r),r.addEventListener("click",l=>{l.preventDefault();const u=r.getAttribute("data-event");console.log("Button clicked, event:",u),W(u)})}),O.addEventListener("click",r=>{r.preventDefault(),w()}),y.addEventListener("click",r=>{r.target===y&&w()}),h.addEventListener("submit",r=>{r.preventDefault();const d=new FormData(h),l=Object.fromEntries(d);console.log("Form submitted:",l),alert(`Thank you for registering for "${B.textContent}"! We'll contact you soon.`),w()})});
//# sourceMappingURL=index.js.map
