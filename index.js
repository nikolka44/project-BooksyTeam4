import{a as k,S as P,N as O,K as D,A as N,P as R,b as H}from"./assets/vendor-DT0iJ38e.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const l of n.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function o(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerPolicy&&(n.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?n.credentials="include":r.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(r){if(r.ep)return;r.ep=!0;const n=o(r);fetch(r.href,n)}})();const K=document.querySelector("[data-menu-open]"),U=document.querySelector("[data-menu-close]"),S=document.querySelector("[data-menu]");K.addEventListener("click",()=>{S.classList.add("is-open"),document.body.style.overflow="hidden",document.body.style.overflow="hidden"});U.addEventListener("click",()=>{S.classList.remove("is-open"),document.body.style.overflow="",document.body.style.overflow=""});document.querySelectorAll(".nav-link-mob").forEach(e=>e.addEventListener("click",()=>{S.classList.remove("is-open"),document.body.style.overflow="",document.body.style.overflow=""}));const a={dropdownToggle:document.querySelector(".dropdown-toggle"),dropdownMenu:document.querySelector(".dropdown-menu"),categoriesList:document.querySelector(".categories-list"),bookCardList:document.querySelector(".books-cards-list"),showMoreBtn:document.querySelector(".show-more-btn"),bookModalBackdrop:document.querySelector("#book-modal-backdrop"),bookModalContent:document.querySelector(".book-modal-content"),bookModalClose:document.querySelector("#book-modal-close"),booksShown:document.querySelector(".books-shown"),booksTotal:document.querySelector(".books-total"),body:document.querySelector("body")};k.defaults.baseURL="https://books-backend.p.goit.global";function L(e,t){throw console.error(`${t} error:`,e.message||e),e}async function z(){try{return(await k.get("/books/category-list")).data.filter(o=>o.list_name&&o.list_name.trim()!=="").map(o=>o.list_name)}catch(e){L(e,"getCategoryList")}}async function G(){try{return(await k.get("/books/top-books")).data.flatMap(o=>o.books)}catch(e){L(e,"getTopBooks")}}async function Y(e){try{const{data:t}=await k.get("/books/category",{params:{category:e}});return console.log(t),t}catch(t){L(t,"getBooksByCategory")}}async function J(e){try{const{data:t}=await k.get(`/books/${e}`);return t}catch(t){L(t,"getBookById")}}function Q(e){const o=["All categories",...e].map(i=>`<li class="dropdown-item">${i}</li>`).join("");a.dropdownMenu.innerHTML=o}function Z(e){const o=["All categories",...e].map(i=>`<li class="categories-item" data-category="${i}">${i}</li>`).join("");a.categoriesList.innerHTML=o}function ee(e){return e?e.toLowerCase().split(" ").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" "):""}function te(e){const t=e.map(({_id:o,book_image:i,description:r="description || title",title:n,author:l,price:m})=>{const p=ee(n),g=parseInt(m);return`<li class="books-card" data-id="${o}">
        <img loading="lazy" class="books-card-image" src="${i}" alt="${r}" />
         <div class="books-card-text-wrapper">

            <div class="books-card-info">
              <h3 class="books-card-title">${p}</h3>
              <p class="books-card-author">${l}</p>
            </div>

            <p class="books-card-price">$${g}</p>

          </div>
        <button class="books-card-btn" type="button">Learn More</button>
      </li>`}).join("");a.bookCardList.innerHTML=t}function oe(e){return`
    <div class="book-modal-wrapper">
      <img
        src="${e.book_image}"
        alt="${e.title}"
        class="book-modal-image"
      />
      <div class="book-modal-describe">
        <h2 class="book-modal-title">${e.title}</h2>
        <p class="book-modal-author">${e.author}</p>
        <p class="book-modal-price">$${e.price}</p>

        <div class="book-modal-actions">
          <div class="quantity-control">
            <button class="qty-btn" data-action="decrease">-</button>
            <span class="qty-value">1</span>
            <button class="qty-btn" data-action="increase">+</button>
          </div>
          <div class="book-modal-btn">
            <button class="add-to-cart-btn">Add To Cart</button>
            <button class="buy-now-btn">Buy Now</button>
          </div>
        </div>

        <div class="book-modal-details">
          <details>
            <summary>Details</summary>
            <p>${e.description||e.title}</p>
          </details>
          <details>
            <summary>Shipping</summary>
            <p>We ship across the United States within 2–5 business days. All orders are processed through USPS or a reliable courier service. Enjoy free standard shipping on orders over $50.</p>
          </details>
          <details>
            <summary>Returns</summary>
            <p>You can return an item within 14 days of receiving your order, provided it hasn’t been used and is in its original condition. To start a return, please contact our support team — we’ll guide you through the process quickly and hassle-free.</p>
          </details>
        </div>
      </div>
    </div>
  `}function ne(){const e=a.dropdownToggle,t=a.dropdownMenu;!e||!t||e.dataset.dropdownInited!=="true"&&(e.addEventListener("click",o=>{o.stopPropagation(),t.classList.toggle("open"),e.classList.toggle("active")}),t.addEventListener("click",o=>{const i=o.target.closest(".dropdown-item");if(!i)return;e.textContent=i.textContent,t.classList.remove("open"),e.classList.remove("active");const r=i.dataset.category,n=new CustomEvent("category:selected",{detail:{category:r}});document.dispatchEvent(n)}),document.addEventListener("click",o=>{!t.contains(o.target)&&!e.contains(o.target)&&(t.classList.remove("open"),e.classList.remove("active"))}),e.dataset.dropdownInited="true")}function se(){a.bookCardList&&a.bookCardList.dataset.modalInited!=="true"&&(a.bookCardList.addEventListener("click",re),a.bookCardList.dataset.modalInited="true")}async function re(e){const t=e.target.closest(".books-card-btn");if(!t)return;const i=t.closest(".books-card").dataset.id;if(i){console.log(i);try{const r=await J(i);ae(r)}catch(r){console.error("❌ Error loading book details:",r)}}}function ae(e){a.bookModalContent.innerHTML=oe(e),a.bookModalBackdrop.classList.remove("is-hidden"),a.bookModalClose.addEventListener("click",E),a.bookModalBackdrop.addEventListener("click",V),document.addEventListener("keydown",X),a.body.classList.add("noScroll")}function E(){a.bookModalBackdrop.classList.add("is-hidden"),a.bookModalContent.innerHTML="",a.bookModalClose.removeEventListener("click",E),a.bookModalBackdrop.removeEventListener("click",V),document.removeEventListener("keydown",X),a.body.classList.remove("noScroll")}function V(e){e.target===a.bookModalBackdrop&&E()}function X(e){e.key==="Escape"&&E()}let y=[],ie="All categories",b=0;const ce=4;function de(){return window.innerWidth<768?10:24}function le(){b>=y.length?a.showMoreBtn.classList.add("is-hidden"):a.showMoreBtn.classList.remove("is-hidden")}function T(){b=Math.min(b,y.length);const e=y.slice(0,b);te(e),a.booksShown&&(a.booksShown.textContent=b),a.booksTotal&&(a.booksTotal.textContent=y.length),le(),se()}async function x(e){try{ie=e;let t;e==="All categories"||e==="All"||!e?t=await G():t=await Y(e),y=t,b=de(),T()}catch(t){console.error("loadBooksByCategory error:",t)}}function ue(){b+=ce,T()}async function me(){try{const e=await z();Q(e),Z(e),ne(),a.dropdownMenu.addEventListener("click",t=>{const o=t.target.closest(".dropdown-item");if(!o)return;const i=o.dataset.category||o.textContent.trim();a.dropdownToggle.textContent=o.textContent.trim(),x(i)}),a.categoriesList.addEventListener("click",t=>{const o=t.target.closest(".categories-item");if(!o)return;const i=o.dataset.category||o.textContent.trim();a.categoriesList.querySelectorAll(".categories-item").forEach(r=>r.classList.remove("active")),o.classList.add("active"),x(i)})}catch(e){console.error("initCategories error:",e)}}async function fe(){await me(),await x("All categories")}a.showMoreBtn.addEventListener("click",ue);window.addEventListener("resize",()=>{T()});fe();const M=document.querySelector(".hero__button--prev"),B=document.querySelector(".hero__button--next");if(M&&B){let e=function(t){M.disabled=t.isBeginning,B.disabled=t.isEnd};new P(".swiper",{modules:[O,D,N],slidesPerView:1,speed:400,grabCursor:!0,watchOverflow:!0,simulateTouch:!0,loop:!1,navigation:{nextEl:B,prevEl:M},autoplay:{delay:5e3,disableOnInteraction:!1},keyboard:{enabled:!0,onlyInViewport:!0},on:{init:e,slideChange:e}})}new P(".swiper-feedbacks",{modules:[O,R,D,H,N],wrapperClass:"feedbacks__list",slideClass:"feedbacks__elements",loop:!1,speed:400,spaceBetween:24,slidesPerView:3,watchOverflow:!0,simulateTouch:!0,grabCursor:!0,breakpoints:{0:{slidesPerView:1,spaceBetween:16},768:{slidesPerView:2,spaceBetween:24},1440:{slidesPerView:3,spaceBetween:24}},keyboard:{enabled:!0,onlyInViewport:!0},a11y:{enabled:!0,prevSlideMessage:"Previous testimonials",nextSlideMessage:"Next testimonials"},navigation:{nextEl:".feedbacks__btn--next",prevEl:".feedbacks__btn--prev",disabledClass:"is-disabled"},pagination:{el:".feedbacks__dots",clickable:!0,bulletElement:"button",bulletClass:"feedbacks__dots-elem",bulletActiveClass:"is-active"},autoplay:{delay:5e3,disableOnInteraction:!1,pauseOnMouseEnter:!0},on:{afterInit(e){_(e)},slideChange(e){_(e)}}});function _(e){var i,r;const t=(i=e.navigation)==null?void 0:i.prevEl,o=(r=e.navigation)==null?void 0:r.nextEl;t&&t.setAttribute("aria-disabled",t.classList.contains("is-disabled")?"true":"false"),o&&o.setAttribute("aria-disabled",o.classList.contains("is-disabled")?"true":"false")}console.log("Events.js loaded");document.addEventListener("DOMContentLoaded",()=>{console.log("DOMContentLoaded fired in events.js");const e=document.querySelector(".events-list"),t=document.querySelectorAll(".event-item"),o=document.querySelector(".slider-btn.prev"),i=document.querySelector(".slider-btn.next"),r=document.querySelectorAll(".pagination-dot");if(!e||!t.length){console.error("Slider elements not found");return}let n=0;function l(){return window.innerWidth>=1440?3:window.innerWidth>=768?2:1}function m(){const s=l(),c=t[0].offsetWidth,d=(window.innerWidth>=768,24),u=n*(c+d);e.style.transform=`translateX(-${u}px)`;const f=Math.max(0,t.length-s);o&&(o.disabled=n===0),i&&(i.disabled=n>=f),r.forEach((W,F)=>{W.classList.toggle("active",F===n)})}i&&i.addEventListener("click",()=>{const s=l(),c=Math.max(0,t.length-s);n<c&&(n++,m())}),o&&o.addEventListener("click",()=>{n>0&&(n--,m())}),document.addEventListener("keydown",s=>{const c=document.activeElement;if(!(c&&(c.tagName==="INPUT"||c.tagName==="TEXTAREA"||c.isContentEditable)))if(s.key==="ArrowRight"){const u=l(),f=Math.max(0,t.length-u);n<f&&(n++,m())}else s.key==="ArrowLeft"&&n>0&&(n--,m())});let p=0,g=!1;e.addEventListener("mousedown",s=>{s.target.closest("button, a, input, textarea, select")||(g=!0,p=s.clientX)}),e.addEventListener("mouseup",s=>{if(!g)return;const c=s.clientX,d=p-c;if(Math.abs(d)>50){if(d>0){const u=l(),f=Math.max(0,t.length-u);n<f&&n++}else n>0&&n--;m()}g=!1}),e.addEventListener("mouseleave",()=>{g=!1}),e.addEventListener("touchstart",s=>{!s.touches||!s.touches[0]||(p=s.touches[0].clientX)}),e.addEventListener("touchend",s=>{if(!s.changedTouches||!s.changedTouches[0])return;const c=s.changedTouches[0].clientX,d=p-c;if(Math.abs(d)>50){if(d>0){const u=l(),f=Math.max(0,t.length-u);n<f&&n++}else n>0&&n--;m()}}),r.forEach((s,c)=>{s.addEventListener("click",()=>{const d=l(),u=Math.max(0,t.length-d);n=Math.min(c,u),m()})});let q;window.addEventListener("resize",()=>{clearTimeout(q),q=setTimeout(()=>{const s=l(),c=Math.max(0,t.length-s);n>c&&(n=c),m()},100)}),m();const v=document.getElementById("eventModal"),C=document.getElementById("modalEventName"),A=document.querySelector(".modal-close"),h=document.getElementById("eventForm"),I=document.querySelectorAll(".event-btn");if(!v||!C||!A||!h){console.error("Modal elements not found");return}console.log("Found event buttons:",I.length);function $(s){s.key==="Escape"&&w()}function j(s){C.textContent=s,v.classList.remove("is-hidden"),document.body.style.overflow="hidden",document.addEventListener("keydown",$)}function w(){v.classList.add("is-hidden"),document.body.style.overflow="",h.reset(),document.removeEventListener("keydown",$)}I.forEach((s,c)=>{console.log(`Setting up button ${c}`,s),s.addEventListener("click",d=>{d.preventDefault();const u=s.getAttribute("data-event");console.log("Button clicked, event:",u),j(u)})}),A.addEventListener("click",s=>{s.preventDefault(),w()}),v.addEventListener("click",s=>{s.target===v&&w()}),h.addEventListener("submit",s=>{s.preventDefault();const c=new FormData(h),d=Object.fromEntries(c);console.log("Form submitted:",d),alert(`Thank you for registering for "${C.textContent}"! We'll contact you soon.`),w()})});
//# sourceMappingURL=index.js.map
