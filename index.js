import{a as f,S as q,N as _,P as T,K as $,A as I,b as A}from"./assets/vendor-Dal2vjfK.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const d of r.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function o(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function a(s){if(s.ep)return;s.ep=!0;const r=o(s);fetch(s.href,r)}})();const j=document.querySelector("[data-menu-open]"),W=document.querySelector("[data-menu-close]"),B=document.querySelector("[data-menu]");j.addEventListener("click",()=>{B.classList.add("is-open"),document.body.style.overflow="hidden"});W.addEventListener("click",()=>{B.classList.remove("is-open"),document.body.style.overflow=""});document.querySelectorAll(".nav-link-mob").forEach(e=>e.addEventListener("click",()=>{B.classList.remove("is-open"),document.body.style.overflow=""}));const n={dropdownToggle:document.querySelector(".dropdown-toggle"),dropdownMenu:document.querySelector(".dropdown-menu"),categoriesList:document.querySelector(".categories-list"),bookCardList:document.querySelector(".books-cards-list"),showMoreBtn:document.querySelector(".show-more-btn"),bookModalBackdrop:document.querySelector("#book-modal-backdrop"),bookModalContent:document.querySelector(".book-modal-content"),bookModalClose:document.querySelector("#book-modal-close"),booksShown:document.querySelector(".books-shown"),booksTotal:document.querySelector(".books-total"),body:document.querySelector("body")};f.defaults.baseURL="https://books-backend.p.goit.global";function h(e,t){throw console.error(`${t} error:`,e.message||e),e}async function F(){try{return(await f.get("/books/category-list")).data.filter(o=>o.list_name&&o.list_name.trim()!=="").map(o=>o.list_name)}catch(e){h(e,"getCategoryList")}}async function R(){try{return(await f.get("/books/top-books")).data.flatMap(o=>o.books)}catch(e){h(e,"getTopBooks")}}async function H(e){try{const{data:t}=await f.get("/books/category",{params:{category:e}});return console.log(t),t}catch(t){h(t,"getBooksByCategory")}}async function K(e){try{const{data:t}=await f.get(`/books/${e}`);return t}catch(t){h(t,"getBookById")}}function U(e){const o=["All categories",...e].map(a=>`<li class="dropdown-item">${a}</li>`).join("");n.dropdownMenu.innerHTML=o}function z(e){const o=["All categories",...e].map(a=>`<li class="categories-item" data-category="${a}">${a}</li>`).join("");n.categoriesList.innerHTML=o}function G(e){return e?e.toLowerCase().split(" ").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" "):""}function X(e){const t=e.map(({_id:o,book_image:a,description:s="description || title",title:r,author:d,price:u})=>{const k=G(r),l=parseInt(u);return`<li class="books-card" data-id="${o}">
        <img class="books-card-image" src="${a}" alt="${s}" />
         <div class="books-card-text-wrapper">

            <div class="books-card-info">
              <h3 class="books-card-title">${k}</h3>
              <p class="books-card-author">${d}</p>
            </div>

            <p class="books-card-price">$${l}</p>

          </div>
        <button class="books-card-btn" type="button">Learn More</button>
      </li>`}).join("");n.bookCardList.innerHTML=t}function Y(e){return`
    <div class="book-modal-wrapper">
      <img
        src="${e.book_image}"
        alt="${e.title}"
        class="book-modal-image"
      />
      <div class="book-modal-describe">
        <h2 class="book-modal-title">${e.title}</h2>
        <p class="book-modal-author">${e.author}</p>
        <p class="book-modal-price">$${e.price}</p>

        <div class="book-modal-actions">
          <div class="quantity-control">
            <button class="qty-btn" data-action="decrease">-</button>
            <span class="qty-value">1</span>
            <button class="qty-btn" data-action="increase">+</button>
          </div>
          <div class="book-modal-btn">
            <button class="add-to-cart-btn">Add To Cart</button>
            <button class="buy-now-btn">Buy Now</button>
          </div>
        </div>

        <div class="book-modal-details">
          <details>
            <summary>Details</summary>
            <p>${e.description||e.title}</p>
          </details>
          <details>
            <summary>Shipping</summary>
            <p>We ship across the United States within 2–5 business days. All orders are processed through USPS or a reliable courier service. Enjoy free standard shipping on orders over $50.</p>
          </details>
          <details>
            <summary>Returns</summary>
            <p>You can return an item within 14 days of receiving your order, provided it hasn’t been used and is in its original condition. To start a return, please contact our support team — we’ll guide you through the process quickly and hassle-free.</p>
          </details>
        </div>
      </div>
    </div>
  `}function J(){const e=n.dropdownToggle,t=n.dropdownMenu;!e||!t||e.dataset.dropdownInited!=="true"&&(e.addEventListener("click",o=>{o.stopPropagation(),t.classList.toggle("open"),e.classList.toggle("active")}),t.addEventListener("click",o=>{const a=o.target.closest(".dropdown-item");if(!a)return;e.textContent=a.textContent,t.classList.remove("open"),e.classList.remove("active");const s=a.dataset.category,r=new CustomEvent("category:selected",{detail:{category:s}});document.dispatchEvent(r)}),document.addEventListener("click",o=>{!t.contains(o.target)&&!e.contains(o.target)&&(t.classList.remove("open"),e.classList.remove("active"))}),e.dataset.dropdownInited="true")}function Q(){n.bookCardList&&n.bookCardList.dataset.modalInited!=="true"&&(n.bookCardList.addEventListener("click",Z),n.bookCardList.dataset.modalInited="true")}async function Z(e){const t=e.target.closest(".books-card-btn");if(!t)return;const a=t.closest(".books-card").dataset.id;if(a){console.log(a);try{const s=await K(a);ee(s)}catch(s){console.error("❌ Error loading book details:",s)}}}function ee(e){n.bookModalContent.innerHTML=Y(e),n.bookModalBackdrop.classList.remove("is-hidden"),n.bookModalClose.addEventListener("click",w),n.bookModalBackdrop.addEventListener("click",P),document.addEventListener("keydown",O),n.body.classList.add("noScroll")}function w(){n.bookModalBackdrop.classList.add("is-hidden"),n.bookModalContent.innerHTML="",n.bookModalClose.removeEventListener("click",w),n.bookModalBackdrop.removeEventListener("click",P),document.removeEventListener("keydown",O),n.body.classList.remove("noScroll")}function P(e){e.target===n.bookModalBackdrop&&w()}function O(e){e.key==="Escape"&&w()}let g=[],te="All categories",p=0;const oe=4;function ne(){return window.innerWidth<768?10:24}function se(){p>=g.length?n.showMoreBtn.classList.add("is-hidden"):n.showMoreBtn.classList.remove("is-hidden")}function E(){p=Math.min(p,g.length);const e=g.slice(0,p);X(e),n.booksShown&&(n.booksShown.textContent=p),n.booksTotal&&(n.booksTotal.textContent=g.length),se(),Q()}async function C(e){try{te=e;let t;e==="All categories"||e==="All"||!e?t=await R():t=await H(e),g=t,p=ne(),E()}catch(t){console.error("loadBooksByCategory error:",t)}}function re(){p+=oe,E()}async function ae(){try{const e=await F();U(e),z(e),J(),n.dropdownMenu.addEventListener("click",t=>{const o=t.target.closest(".dropdown-item");if(!o)return;const a=o.dataset.category||o.textContent.trim();n.dropdownToggle.textContent=o.textContent.trim(),C(a)}),n.categoriesList.addEventListener("click",t=>{const o=t.target.closest(".categories-item");if(!o)return;const a=o.dataset.category||o.textContent.trim();n.categoriesList.querySelectorAll(".categories-item").forEach(s=>s.classList.remove("active")),o.classList.add("active"),C(a)})}catch(e){console.error("initCategories error:",e)}}async function ie(){await ae(),await C("All categories")}n.showMoreBtn.addEventListener("click",re);window.addEventListener("resize",()=>{E()});ie();new q(".swiper",{modules:[_,T,$,I,A],slidesPerView:1,loop:!1,speed:400,watchOverflow:!0,simulateTouch:!0,grabCursor:!0,navigation:{nextEl:".hero__button--next",prevEl:".hero__button--prev"},autoplay:{delay:5e3,disableOnInteraction:!1},keyboard:{enabled:!0,onlyInViewport:!0},on:{init:function(){x(this)},slideChange:function(){x(this)}}});function x(e){const t=document.querySelector(".hero__button--prev"),o=document.querySelector(".hero__button--next");t.disabled=e.isBeginning,o.disabled=e.isEnd}new q(".swiper-feedbacks",{modules:[_,T,$,I,A],wrapperClass:"feedbacks__list",slideClass:"feedbacks__elements",loop:!1,speed:400,spaceBetween:24,slidesPerView:3,watchOverflow:!0,simulateTouch:!0,grabCursor:!0,autoplay:{delay:5e3,disableOnInteraction:!1},keyboard:{enabled:!0,onlyInViewport:!0},a11y:{enabled:!0,containerRoleDescriptionMessage:"Testimonials slider",slideRole:"listitem",prevSlideMessage:"Previous testimonials",nextSlideMessage:"Next testimonials"},navigation:{nextEl:".feedbacks__btn--next",prevEl:".feedbacks__btn--prev",disabledClass:"is-disabled"},pagination:{el:".feedbacks__dots",clickable:!0,bulletClass:"feedbacks__dots-elem",bulletActiveClass:"is-active",renderBullet:(e,t)=>`<span class="${t}" aria-label="Go to slide group ${e+1}"></span>`},breakpoints:{0:{slidesPerView:1,spaceBetween:16},768:{slidesPerView:2,spaceBetween:24},1440:{slidesPerView:3,spaceBetween:24}}});console.log("Events.js loaded");document.addEventListener("DOMContentLoaded",()=>{console.log("DOMContentLoaded fired in events.js");const e=document.querySelector(".events-list"),t=document.querySelectorAll(".event-item"),o=document.querySelector(".slider-btn.prev"),a=document.querySelector(".slider-btn.next"),s=document.querySelectorAll(".pagination-dot");if(!e||!t.length){console.error("Slider elements not found");return}let r=0;function d(){return window.innerWidth>=1440?3:window.innerWidth>=768?2:1}function u(){const i=d(),c=t[0].offsetWidth,m=(window.innerWidth>=768,24),b=r*(c+m);e.style.transform=`translateX(-${b}px)`;const D=Math.max(0,t.length-i);o&&(o.disabled=r===0),a&&(a.disabled=r>=D),s.forEach((N,V)=>{N.classList.toggle("active",V===r)})}a&&a.addEventListener("click",()=>{const i=d(),c=Math.max(0,t.length-i);r<c&&(r++,u())}),o&&o.addEventListener("click",()=>{r>0&&(r--,u())}),s.forEach((i,c)=>{i.addEventListener("click",()=>{const m=d(),b=Math.max(0,t.length-m);r=Math.min(c,b),u()})});let k;window.addEventListener("resize",()=>{clearTimeout(k),k=setTimeout(()=>{const i=d(),c=Math.max(0,t.length-i);r>c&&(r=c),u()},100)}),u();const l=document.getElementById("eventModal"),L=document.getElementById("modalEventName"),M=document.querySelector(".modal-close"),y=document.getElementById("eventForm"),S=document.querySelectorAll(".event-btn");if(!l||!L||!M||!y){console.error("Modal elements not found");return}console.log("Found event buttons:",S.length),S.forEach((i,c)=>{console.log(`Setting up button ${c}`,i),i.addEventListener("click",m=>{m.preventDefault();const b=i.getAttribute("data-event");console.log("Button clicked, event:",b),L.textContent=b,l.classList.remove("is-hidden"),document.body.style.overflow="hidden"})});function v(){l.classList.add("is-hidden"),document.body.style.overflow="",y.reset()}M.addEventListener("click",i=>{i.preventDefault(),v()}),l.addEventListener("click",i=>{i.target===l&&v()}),document.addEventListener("keydown",i=>{i.key==="Escape"&&!l.classList.contains("is-hidden")&&v()}),y.addEventListener("submit",i=>{i.preventDefault();const c=new FormData(y),m=Object.fromEntries(c);console.log("Form submitted:",m),alert(`Thank you for registering for "${L.textContent}"! We'll contact you soon.`),v()})});
//# sourceMappingURL=index.js.map
