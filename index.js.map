{"version":3,"file":"index.js","sources":["../src/js/menu.js","../src/js/refs.js","../src/js/api-functions.js","../src/js/render-functions.js","../src/js/modal-book.js","../src/js/books.js","../src/js/hero.js","../src/js/feedbacks.js","../src/js/events.js"],"sourcesContent":["const openMenuBtn = document.querySelector('[data-menu-open]');\nconst closeMenuBtn = document.querySelector('[data-menu-close]');\nconst mobileMenu = document.querySelector('[data-menu]');\n\nopenMenuBtn.addEventListener('click', () => {\n  mobileMenu.classList.add('is-open');\n  document.body.style.overflow = 'hidden';\n});\n\ncloseMenuBtn.addEventListener('click', () => {\n  mobileMenu.classList.remove('is-open');\n  document.body.style.overflow = '';\n});\n\ndocument.querySelectorAll('.nav-link-mob').forEach(link =>\n  link.addEventListener('click', () => {\n    mobileMenu.classList.remove('is-open');\n    document.body.style.overflow = '';\n  })\n);\n\n// console.log(document.querySelector('[data-menu-open]'));\n// console.log(document.querySelector('[data-menu]'));\n","export const refs = {\n  dropdownToggle: document.querySelector('.dropdown-toggle'),\n  dropdownMenu: document.querySelector('.dropdown-menu'),\n  categoriesList: document.querySelector('.categories-list'),\n  bookCardList: document.querySelector('.books-cards-list'),\n  showMoreBtn: document.querySelector('.show-more-btn'),\n  bookModalBackdrop: document.querySelector('#book-modal-backdrop'),\n  bookModalContent: document.querySelector('.book-modal-content'),\n  bookModalClose: document.querySelector('#book-modal-close'),\n};\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://books-backend.p.goit.global';\n\n// Універсальна функція обробки помилок\nfunction handleError(error, source) {\n  console.error(`${source} error:`, error.message || error);\n  throw error;\n}\n\n// 🔹 Отримати всі категорії\nexport async function getCategoryList() {\n  try {\n    const response = await axios.get(`/books/category-list`);\n    // console.log(response.data);\n    // 🔹 Вибираємо лише об'єкти з непорожнім list_name\n    const categories = response.data\n      .filter(item => item.list_name && item.list_name.trim() !== '')\n      .map(item => item.list_name);\n    return categories;\n  } catch (error) {\n    handleError(error, 'getCategoryList');\n  }\n}\n\n// 🔹 Отримати топ книги\nexport async function getTopBooks() {\n  try {\n    const response = await axios.get('/books/top-books');\n    // console.log(response.data);\n    // ✅ Кожен елемент — об’єкт із полем books (масив книг)\n    const topbooks = response.data.flatMap(item => item.books);\n    // console.log(topbooks);\n    return topbooks;\n  } catch (error) {\n    handleError(error, 'getTopBooks');\n  }\n}\n\n// 🔹 Отримати книги певної категорії\nexport async function getBooksByCategory(category) {\n  try {\n    const { data } = await axios.get(`/books/category`, {\n      params: { category },\n    });\n    console.log(data);\n\n    return data;\n  } catch (error) {\n    handleError(error, 'getBooksByCategory');\n  }\n}\n\n// 🔹 Отримати книгу за ID\nexport async function getBookById(id) {\n  try {\n    const { data } = await axios.get(`/books/${id}`);\n    return data;\n  } catch (error) {\n    handleError(error, 'getBookById');\n  }\n}\n","import { refs } from './refs.js';\n\nexport function renderCategoryDropList(categories) {\n  // додаємо \"All categories\" на початок\n  //categories.unshift('All');\n  // або:\n  // не мутуємо вхідний масив (щоб уникнути побічних ефектів)\n  const allCategories = ['All categories', ...categories];\n  const markup = allCategories\n    .map(category => `<li class=\"dropdown-item\">${category}</li>`)\n    .join('');\n  refs.dropdownMenu.innerHTML = markup;\n\n  // відкриття/закриття меню\n  // refs.dropdownToggle.addEventListener('click', e => {\n  //   e.stopPropagation(); // щоб клік не закрив меню одразу\n  //   refs.dropdownMenu.classList.toggle('open');\n  //   refs.dropdownToggle.classList.toggle('active');\n  // });\n\n  // вибір категорії\n  // refs.dropdownMenu.addEventListener('click', e => {\n  //   if (e.target.classList.contains('dropdown-item')) {\n  //     refs.dropdownToggle.textContent = e.target.textContent;\n  //     refs.dropdownMenu.classList.remove('open');\n  //     refs.dropdownToggle.classList.remove('active');\n  //   }\n  // });\n\n  // автозакриття при кліку поза меню\n  // document.addEventListener('click', e => {\n  //   if (\n  //     !refs.dropdownMenu.contains(e.target) &&\n  //     !refs.dropdownToggle.contains(e.target)\n  //   ) {\n  //     refs.dropdownMenu.classList.remove('open');\n  //     refs.dropdownToggle.classList.remove('active');\n  //   }\n  // });\n}\n\n// Рендер десктопного списку категорій\nexport function renderCategories(categories) {\n  // не мутуємо вхідний масив (щоб уникнути побічних ефектів)\n  const allCategories = ['All categories', ...categories];\n  const markuoCategories = allCategories\n    .map(\n      category =>\n        `<li class=\"categories-item\" data-category=\"${category}\">${category}</li>`\n    )\n    .join('');\n  refs.categoriesList.innerHTML = markuoCategories;\n}\n\n// Рендер списку книг (отримуєш вже відфільтрований або обрізаний масив)\nexport function renderBookCardlist(topbooks) {\n  const markupBooks = topbooks\n    .map(\n      ({\n        _id,\n        book_image,\n        description = 'description || title',\n        title,\n        author,\n        price,\n      }) => `<li class=\"books-card\" data-id=\"${_id}\">\n        <img class=\"books-card-image\" src=\"${book_image}\" alt=\"${description}\" />\n        <div class=\"books-card-text-wrapper\">\n          <h3 class=\"books-card-title\">${title}</h3>\n          <p class=\"books-card-author\">${author}</p>\n        </div>\n        <p class=\"books-card-price\">$${price}</p>\n        <button class=\"books-card-btn\" type=\"button\">Learn More</button>\n      </li>`\n    )\n    .join('');\n  refs.bookCardList.innerHTML = markupBooks;\n}\n\nexport function renderBookModal(book) {\n  return `\n    <div class=\"book-modal-wrapper\">\n      <img\n        src=\"${book.book_image}\"\n        alt=\"${book.title}\"\n        class=\"book-modal-image\"\n      />\n      <h2 class=\"book-modal-title\">${book.title}</h2>\n      <p class=\"book-modal-author\">${book.author}</p>\n      <p class=\"book-modal-price\">$${book.price}</p>\n\n      <div class=\"book-modal-actions\">\n        <div class=\"quantity-control\">\n          <button class=\"qty-btn\" data-action=\"decrease\">-</button>\n          <span class=\"qty-value\">1</span>\n          <button class=\"qty-btn\" data-action=\"increase\">+</button>\n        </div>\n        <button class=\"add-to-cart-btn\">Add To Cart</button>\n        <button class=\"buy-now-btn\">Buy Now</button>\n      </div>\n\n      <div class=\"book-modal-details\">\n        <details>\n          <summary>Details</summary>\n          <p>${book.description || book.title}</p>\n        </details>\n        <details>\n          <summary>Shipping</summary>\n          <p>We ship across the United States within 2–5 business days. All orders are processed through USPS or a reliable courier service. Enjoy free standard shipping on orders over $50.</p>\n        </details>\n        <details>\n          <summary>Returns</summary>\n          <p>You can return an item within 14 days of receiving your order, provided it hasn’t been used and is in its original condition. To start a return, please contact our support team — we’ll guide you through the process quickly and hassle-free.</p>\n        </details>\n      </div>\n    </div>\n  `;\n}\n\n// Ініціалізація поведінки dropdown (додає слухачі один раз)\nexport function initDropdownBehavior() {\n  const toggle = refs.dropdownToggle;\n  const menu = refs.dropdownMenu;\n\n  if (!toggle || !menu) return;\n\n  // Якщо вже ініціалізовано — не додаємо слухачі вдруге\n  if (toggle.dataset.dropdownInited === 'true') return;\n\n  // відкриття / закриття меню\n  toggle.addEventListener('click', e => {\n    e.stopPropagation();\n    menu.classList.toggle('open');\n    toggle.classList.toggle('active');\n  });\n\n  // вибір категорії\n  menu.addEventListener('click', e => {\n    const item = e.target.closest('.dropdown-item');\n    if (!item) return;\n    toggle.textContent = item.textContent;\n    menu.classList.remove('open');\n    toggle.classList.remove('active');\n\n    // корисний хук: диспатчимо власну подію, щоб інші модулі могли відреагувати\n    const category = item.dataset.category;\n    const event = new CustomEvent('category:selected', {\n      detail: { category },\n    });\n    document.dispatchEvent(event);\n  });\n\n  // автозакриття при кліку поза меню\n  document.addEventListener('click', e => {\n    if (!menu.contains(e.target) && !toggle.contains(e.target)) {\n      menu.classList.remove('open');\n      toggle.classList.remove('active');\n    }\n  });\n\n  // мітка, що вже ініціалізовано\n  toggle.dataset.dropdownInited = 'true';\n}\n","import { refs } from './refs.js';\nimport { renderBookModal } from './render-functions.js';\nimport { getBookById } from './api-functions.js';\n\nexport function initBookModal() {\n  if (!refs.bookCardList) return;\n  // Якщо вже прив'язували слухач — нічого не робимо\n  if (refs.bookCardList.dataset.modalInited === 'true') return;\n\n  refs.bookCardList.addEventListener('click', onLearnMoreClick);\n  refs.bookCardList.dataset.modalInited = 'true';\n}\n\nasync function onLearnMoreClick(e) {\n  const btn = e.target.closest('.books-card-btn');\n  if (!btn) return;\n  //   console.log(btn);\n\n  const card = btn.closest('.books-card');\n  const bookId = card.dataset.id;\n  if (!bookId) return;\n  console.log(bookId);\n\n  try {\n    const book = await getBookById(bookId);\n    openBookModal(book);\n  } catch (error) {\n    console.error('❌ Error loading book details:', error);\n  }\n}\n\nfunction openBookModal(book) {\n  refs.bookModalContent.innerHTML = renderBookModal(book);\n  refs.bookModalBackdrop.classList.remove('is-hidden');\n\n  refs.bookModalClose.addEventListener('click', closeBookModal);\n  refs.bookModalBackdrop.addEventListener('click', onBackdropClick);\n  document.addEventListener('keydown', onEscClose);\n}\n\nfunction closeBookModal() {\n  refs.bookModalBackdrop.classList.add('is-hidden');\n  refs.bookModalContent.innerHTML = '';\n\n  refs.bookModalClose.removeEventListener('click', closeBookModal);\n  refs.bookModalBackdrop.removeEventListener('click', onBackdropClick);\n  document.removeEventListener('keydown', onEscClose);\n}\n\nfunction onBackdropClick(e) {\n  if (e.target === refs.bookModalBackdrop) closeBookModal();\n}\n\nfunction onEscClose(e) {\n  if (e.key === 'Escape') closeBookModal();\n}\n","import { refs } from './refs.js';\nimport {\n  getCategoryList,\n  getTopBooks,\n  getBooksByCategory,\n  getBookById,\n} from './api-functions.js';\nimport {\n  renderCategories,\n  renderCategoryDropList,\n  renderBookCardlist,\n  initDropdownBehavior,\n} from './render-functions.js';\nimport { initBookModal } from './modal-book.js';\n\n// ====== Глобальні змінні ======\nlet currentBooks = []; // усі завантажені книги\nlet currentCategory = 'All categories'; // поточна категорія\n// Змінна для відстеження кількості видимих книг\nlet visibleBooksCount = 0;\n//Константа для кількості книг, що додаються за клік\nconst BOOKS_PER_PAGE = 4;\n\n// ====== Функція визначає, скільки книг показати ======\nfunction getInitialLimit() {\n  return window.innerWidth < 768 ? 10 : 24;\n}\n\n//  Функція для оновлення видимості кнопки \"Show More\"\nfunction updateShowMoreButton() {\n  // Якщо видимих книг стільки ж або більше, ніж усього, ховаємо кнопку\n  if (visibleBooksCount >= currentBooks.length) {\n    refs.showMoreBtn.classList.add('is-hidden');\n  } else {\n    // Інакше — показуємо\n    refs.showMoreBtn.classList.remove('is-hidden');\n  }\n}\n\n// ====== Функція відмалювання книг (без нових запитів) ======\nfunction renderVisibleBooks() {\n  // Беремо потрібну кількість книг з масиву\n  const booksToRender = currentBooks.slice(0, visibleBooksCount);\n  renderBookCardlist(booksToRender);\n\n  // НОВЕ: Оновлюємо стан кнопки після кожного рендеру\n  updateShowMoreButton();\n\n  // Ініціалізуємо модалку для нових карток\n  initBookModal();\n}\n\n// ====== Завантаження категорії (один запит) ======\nasync function loadBooksByCategory(category) {\n  try {\n    currentCategory = category;\n    let booksData;\n\n    if (category === 'All categories' || category === 'All' || !category) {\n      booksData = await getTopBooks();\n    } else {\n      booksData = await getBooksByCategory(category);\n    }\n\n    // Зберігаємо результат\n    currentBooks = booksData;\n    //  Встановлюємо початкову кількість видимих книг\n    visibleBooksCount = getInitialLimit();\n    // Рендеримо першу порцію книг\n    renderVisibleBooks();\n  } catch (error) {\n    console.error('loadBooksByCategory error:', error);\n  }\n}\n\n//  Обробник для кнопки \"Show More\"\nfunction handleShowMore() {\n  // Збільшуємо лічильник видимих книг\n  visibleBooksCount += BOOKS_PER_PAGE;\n  // Перемальовуємо список з новою кількістю\n  renderVisibleBooks();\n}\n\n// ====== Ініціалізація категорій ======\nasync function initCategories() {\n  try {\n    const categories = await getCategoryList();\n    renderCategoryDropList(categories);\n    renderCategories(categories);\n    initDropdownBehavior();\n\n    // слухачі для dropdown\n    refs.dropdownMenu.addEventListener('click', e => {\n      const item = e.target.closest('.dropdown-item');\n      if (!item) return;\n      const category = item.dataset.category || item.textContent.trim();\n      refs.dropdownToggle.textContent = item.textContent.trim();\n      loadBooksByCategory(category);\n    });\n\n    // слухачі для desktop списку\n    refs.categoriesList.addEventListener('click', e => {\n      const item = e.target.closest('.categories-item');\n      if (!item) return;\n      const category = item.dataset.category || item.textContent.trim();\n\n      // візуально активна категорія\n      refs.categoriesList\n        .querySelectorAll('.categories-item')\n        .forEach(el => el.classList.remove('active'));\n      item.classList.add('active');\n\n      loadBooksByCategory(category);\n    });\n  } catch (error) {\n    console.error('initCategories error:', error);\n  }\n}\n\n\n// ====== Початкова ініціалізація ======\nasync function initBooks() {\n  await initCategories();\n  await loadBooksByCategory('All categories');\n}\n\n// ====== Прив'язка слухачів ======\n\n// НОВЕ: Додаємо слухача на кнопку \"Show More\"\nrefs.showMoreBtn.addEventListener('click', handleShowMore);\n// ====== При зміні ширини екрана — тільки перерендер локальних даних ======\nwindow.addEventListener('resize', () => {\n  renderVisibleBooks(); // без запитів, тільки зміна кількості\n});\n\ninitBooks();\n","import Swiper from 'swiper';\nimport { Navigation, Pagination, Keyboard, A11y, Autoplay } from 'swiper/modules';\nimport 'swiper/css';\nimport 'swiper/css/navigation';\nimport 'swiper/css/pagination';\n\nconst swiper = new Swiper('.swiper', {\n    modules: [Navigation, Pagination, Keyboard, A11y, Autoplay],\n    slidesPerView: 1,\n    loop: false,\n    speed: 400,\n    watchOverflow: true,\n    simulateTouch: true,\n    grabCursor: true,\n    navigation: {\n        nextEl: '.hero__button--next',\n        prevEl: '.hero__button--prev',\n    },\n    autoplay: {\n        delay: 5000,\n        disableOnInteraction: false,\n    },\n    keyboard: {\n        enabled: true,\n        onlyInViewport: true,\n    },\n    on: {\n        init: function () {\n            updateButtons(this);\n        },\n        slideChange: function () {\n            updateButtons(this);\n        },\n\n    },\n});\n\nfunction updateButtons(swiper) {\n    const prevBtn = document.querySelector('.hero__button--prev');\n    const nextBtn = document.querySelector('.hero__button--next');\n\n    prevBtn.disabled = swiper.isBeginning;\n    nextBtn.disabled = swiper.isEnd;\n}","import Swiper from 'swiper';\nimport { Navigation, Pagination, Keyboard, A11y, Autoplay } from 'swiper/modules';\nimport 'swiper/css';\nimport 'swiper/css/navigation';\nimport 'swiper/css/pagination';\n\nconst feedbacksSwiper = new Swiper('.swiper-feedbacks', {\n  modules: [Navigation, Pagination, Keyboard, A11y, Autoplay],\n  wrapperClass: 'feedbacks__list',\n  slideClass: 'feedbacks__elements',\n  loop: false,\n  speed: 400,\n  spaceBetween: 24,\n  slidesPerView: 3,\n  watchOverflow: true, \n  simulateTouch: true,\n  grabCursor: true,\n   autoplay: {\n   delay: 5000,\n   disableOnInteraction: false,\n },\n  keyboard: {\n    enabled: true,\n    onlyInViewport: true,\n  },\n  a11y: {\n    enabled: true,\n    containerRoleDescriptionMessage: 'Testimonials slider',\n    slideRole: 'listitem',\n    prevSlideMessage: 'Previous testimonials',\n    nextSlideMessage: 'Next testimonials',\n  },\n  navigation: {\n    nextEl: '.feedbacks__btn--next',\n    prevEl: '.feedbacks__btn--prev',\n    disabledClass: 'is-disabled', \n  },\n  pagination: {\n    el: '.feedbacks__dots',\n    clickable: true,\n    bulletClass: 'feedbacks__dots-elem',\n    bulletActiveClass: 'is-active',\n    renderBullet: (index, className) =>\n      `<span class=\"${className}\" aria-label=\"Go to slide group ${\n        index + 1\n      }\"></span>`,\n  },\n  breakpoints: {\n    0: { slidesPerView: 1, spaceBetween: 16 },\n    768: { slidesPerView: 2, spaceBetween: 24 },\n    1440: { slidesPerView: 3, spaceBetween: 24 },\n  },\n});\n","document.addEventListener('DOMContentLoaded', () => {\n  const list = document.querySelector('.events-list');\n  if (!list) return;\n\n  const cards = document.querySelectorAll('.item-card');\n  const container = document.querySelector('.events-container');\n\n  const controls = document.createElement('div');\n  controls.className = 'slider-controls';\n  controls.innerHTML = `\n    <div class=\"dots\"></div>\n    <div class=\"arrows\">\n      <button class=\"slider-btn prev\" aria-label=\"Previous slide\">\n        <svg>\n          <use href=\"/img/icons.svg#icon-left-arrow\"></use>\n        </svg>\n      </button>\n      <button class=\"slider-btn next\" aria-label=\"Next slide\">\n        <svg>\n          <use href=\"/img/icons.svg#icon-right-arrow\"></use>\n        </svg>\n      </button>\n    </div>\n  `;\n  container.appendChild(controls);\n\n  const dotsContainer = controls.querySelector('.dots');\n  const prevBtn = controls.querySelector('.prev');\n  const nextBtn = controls.querySelector('.next');\n\n  let current = 0;\n  let slidesToShow = 1;\n\n  function createDots() {\n    dotsContainer.innerHTML = '';\n    const totalDots =\n      slidesToShow === 1 ? cards.length : cards.length - slidesToShow + 1;\n    for (let i = 0; i < totalDots; i++) {\n      const dot = document.createElement('span');\n      dot.className = 'dot' + (i === 0 ? ' active' : '');\n      dotsContainer.appendChild(dot);\n    }\n  }\n\n  function fadeOutIn(callback) {\n    list.style.transition = 'opacity 0.3s ease';\n    list.style.opacity = '0';\n    setTimeout(() => {\n      callback();\n      list.style.opacity = '1';\n    }, 300);\n  }\n\n  function updateSlider() {\n    const total = cards.length;\n    cards.forEach((card, i) => {\n      card.style.display =\n        i >= current && i < current + slidesToShow ? 'flex' : 'none';\n    });\n\n    const dots = dotsContainer.querySelectorAll('.dot');\n    dots.forEach((dot, i) => dot.classList.toggle('active', i === current));\n\n    prevBtn.classList.toggle('is-disabled', current === 0);\n    nextBtn.classList.toggle('is-disabled', current >= total - slidesToShow);\n  }\n\n  function checkViewport() {\n    const width = window.innerWidth;\n\n    if (width >= 1440) {\n      slidesToShow = cards.length;\n      cards.forEach(card => (card.style.display = 'flex'));\n      controls.style.display = 'none';\n      list.style.transition = '';\n      list.style.opacity = '1';\n    } else {\n      slidesToShow = width < 768 ? 1 : 2;\n      controls.style.display = 'flex';\n      current = 0;\n      createDots();\n      updateSlider();\n    }\n  }\n\n  nextBtn.addEventListener('click', () => {\n    const total = cards.length;\n    if (current < total - slidesToShow) {\n      fadeOutIn(() => {\n        current++;\n        updateSlider();\n      });\n    }\n  });\n\n  prevBtn.addEventListener('click', () => {\n    if (current > 0) {\n      fadeOutIn(() => {\n        current--;\n        updateSlider();\n      });\n    }\n  });\n\n  dotsContainer.addEventListener('click', e => {\n    if (!e.target.classList.contains('dot')) return;\n    const index = Array.from(dotsContainer.children).indexOf(e.target);\n    fadeOutIn(() => {\n      current = index;\n      updateSlider();\n    });\n  });\n\n  window.addEventListener('resize', checkViewport);\n  checkViewport();\n});\n"],"names":["openMenuBtn","closeMenuBtn","mobileMenu","link","refs","axios","handleError","error","source","getCategoryList","item","getTopBooks","getBooksByCategory","category","data","getBookById","id","renderCategoryDropList","categories","markup","renderCategories","markuoCategories","renderBookCardlist","topbooks","markupBooks","_id","book_image","description","title","author","price","renderBookModal","book","initDropdownBehavior","toggle","menu","e","event","initBookModal","onLearnMoreClick","btn","bookId","openBookModal","closeBookModal","onBackdropClick","onEscClose","currentBooks","currentCategory","visibleBooksCount","BOOKS_PER_PAGE","getInitialLimit","updateShowMoreButton","renderVisibleBooks","booksToRender","loadBooksByCategory","booksData","handleShowMore","initCategories","el","initBooks","Swiper","Navigation","Pagination","Keyboard","A11y","Autoplay","updateButtons","swiper","prevBtn","nextBtn","index","className","list","cards","container","controls","dotsContainer","current","slidesToShow","createDots","totalDots","i","dot","fadeOutIn","callback","updateSlider","total","card","checkViewport","width"],"mappings":"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"}