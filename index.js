import{a as c,S as u,N as p,P as g,K as f,A as y,b as w}from"./assets/vendor-Dal2vjfK.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))a(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function o(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerPolicy&&(n.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?n.credentials="include":t.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function a(t){if(t.ep)return;t.ep=!0;const n=o(t);fetch(t.href,n)}})();const k=document.querySelector("[data-menu-open]"),v=document.querySelector("[data-menu-close]"),l=document.querySelector("[data-menu]");k.addEventListener("click",()=>{l.classList.add("is-open"),document.body.style.overflow="hidden"});v.addEventListener("click",()=>{l.classList.remove("is-open"),document.body.style.overflow=""});document.querySelectorAll(".nav-link-mob").forEach(e=>e.addEventListener("click",()=>{l.classList.remove("is-open"),document.body.style.overflow=""}));console.log(document.querySelector("[data-menu-open]"));console.log(document.querySelector("[data-menu]"));c.defaults.baseURL="https://books-backend.p.goit.global";async function m(){try{return(await c.get("/books/category-list")).data.filter(o=>o.list_name&&o.list_name.trim()!=="").map(o=>o.list_name)}catch(e){throw console.error("getCategoryList error:",e),e}}async function h(){try{return(await c.get("/books/top-books")).data.flatMap(o=>o.books)}catch(e){throw console.error("getTopBooks error:",e),e}}const r={dropdownToggle:document.querySelector(".dropdown-toggle"),dropdownMenu:document.querySelector(".dropdown-menu"),categoriesList:document.querySelector(".categories-list"),bookCardList:document.querySelector(".books-cards-list"),showMoreBtn:document.querySelector(".show-more-btn")};function L(e){e.unshift("All");const s=e.map(o=>`<li class="dropdown-item">${o}</li>`).join("");r.dropdownMenu.innerHTML=s,r.dropdownToggle.addEventListener("click",o=>{o.stopPropagation(),r.dropdownMenu.classList.toggle("open"),r.dropdownToggle.classList.toggle("active")}),r.dropdownMenu.addEventListener("click",o=>{o.target.classList.contains("dropdown-item")&&(r.dropdownToggle.textContent=o.target.textContent,r.dropdownMenu.classList.remove("open"),r.dropdownToggle.classList.remove("active"))}),document.addEventListener("click",o=>{!r.dropdownMenu.contains(o.target)&&!r.dropdownToggle.contains(o.target)&&(r.dropdownMenu.classList.remove("open"),r.dropdownToggle.classList.remove("active"))})}function _(e){const s=e.map(o=>`<li class="books__filter" data-category="${o}">${o}</li>`).join("");r.categoriesList.innerHTML=s}function M(e){const s=e.map(({_id:o,book_image:a,description:t,title:n,author:i,price:b})=>`<li class="books-card" data-id="${o}>
        <img class="books-card-image" src="${a}" alt="${t}" />
        <div class="books-card-text-wrapper">
          <h3 class="books-card-title">${n}</h3>
          <p class="books-card-author">${i}</p>
        </div>
        <p class="books-card-price">$${b}</p>
        <button class="books-card-btn" type="button">Learn More</button>
      </li>`).join("");r.bookCardList.innerHTML=s}async function B(){try{const e=await m();L(e)}catch(e){console.error(e)}}B();async function C(){try{const e=await m();_(e)}catch(e){console.error(e)}}C();async function S(){try{const e=await h(),o=window.innerWidth<768?e.slice(0,10):e.slice(0,24);M(o)}catch(e){console.error("initBooks error:",e)}}S();new u(".swiper",{modules:[p,g],slidesPerView:1,loop:!1,navigation:{nextEl:".hero__button--next",prevEl:".hero__button--prev"},on:{init:function(){d(this)},slideChange:function(){d(this)}}});function d(e){const s=document.querySelector(".hero__button--prev"),o=document.querySelector(".hero__button--next");s.disabled=e.isBeginning,o.disabled=e.isEnd}new u(".swiper-feedbacks",{modules:[p,g,f,y,w],wrapperClass:"feedbacks__list",slideClass:"feedbacks__elements",loop:!1,speed:400,spaceBetween:24,slidesPerView:3,watchOverflow:!0,simulateTouch:!0,grabCursor:!0,autoplay:{delay:5e3,disableOnInteraction:!1},keyboard:{enabled:!0,onlyInViewport:!0},a11y:{enabled:!0,containerRoleDescriptionMessage:"Testimonials slider",slideRole:"listitem",prevSlideMessage:"Previous testimonials",nextSlideMessage:"Next testimonials"},navigation:{nextEl:".feedbacks__btn--next",prevEl:".feedbacks__btn--prev",disabledClass:"is-disabled"},pagination:{el:".feedbacks__dots",clickable:!0,bulletClass:"feedbacks__dots-elem",bulletActiveClass:"is-active",renderBullet:(e,s)=>`<span class="${s}" aria-label="Go to slide group ${e+1}"></span>`},breakpoints:{0:{slidesPerView:1,spaceBetween:16},768:{slidesPerView:2,spaceBetween:24},1024:{slidesPerView:3,spaceBetween:24}}});
//# sourceMappingURL=index.js.map
