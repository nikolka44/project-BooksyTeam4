import{a as c,S as g,N as m,P as f,K as k,A as v,b as L}from"./assets/vendor-Dal2vjfK.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function o(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerPolicy&&(n.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?n.credentials="include":s.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(s){if(s.ep)return;s.ep=!0;const n=o(s);fetch(s.href,n)}})();const h=document.querySelector("[data-menu-open]"),C=document.querySelector("[data-menu-close]"),d=document.querySelector("[data-menu]");h.addEventListener("click",()=>{d.classList.add("is-open"),document.body.style.overflow="hidden"});C.addEventListener("click",()=>{d.classList.remove("is-open"),document.body.style.overflow=""});document.querySelectorAll(".nav-link-mob").forEach(e=>e.addEventListener("click",()=>{d.classList.remove("is-open"),document.body.style.overflow=""}));console.log(document.querySelector("[data-menu-open]"));console.log(document.querySelector("[data-menu]"));const a={dropdownToggle:document.querySelector(".dropdown-toggle"),dropdownMenu:document.querySelector(".dropdown-menu"),categoriesList:document.querySelector(".categories-list"),bookCardList:document.querySelector(".books-cards-list"),showMoreBtn:document.querySelector(".show-more-btn")};c.defaults.baseURL="https://books-backend.p.goit.global";function u(e,t){throw console.error(`${t} error:`,e.message||e),e}async function B(){try{return(await c.get("/books/category-list")).data.filter(o=>o.list_name&&o.list_name.trim()!=="").map(o=>o.list_name)}catch(e){u(e,"getCategoryList")}}async function _(){try{return(await c.get("/books/top-books")).data.flatMap(o=>o.books)}catch(e){u(e,"getTopBooks")}}async function E(e){try{const{data:t}=await c.get("/books/category",{params:{category:e}});return console.log(t),t}catch(t){u(t,"getBooksByCategory")}}function S(e){const o=["All categories",...e].map(r=>`<li class="dropdown-item">${r}</li>`).join("");a.dropdownMenu.innerHTML=o}function M(e){const o=["All categories",...e].map(r=>`<li class="categories-item" data-category="${r}">${r}</li>`).join("");a.categoriesList.innerHTML=o}function x(e){const t=e.map(({_id:o,book_image:r,description:s="description || title",title:n,author:i,price:w})=>`<li class="books-card" data-id="${o}">
        <img class="books-card-image" src="${r}" alt="${s}" />
        <div class="books-card-text-wrapper">
          <h3 class="books-card-title">${n}</h3>
          <p class="books-card-author">${i}</p>
        </div>
        <p class="books-card-price">$${w}</p>
        <button class="books-card-btn" type="button">Learn More</button>
      </li>`).join("");a.bookCardList.innerHTML=t}function q(){const e=a.dropdownToggle,t=a.dropdownMenu;!e||!t||e.dataset.dropdownInited!=="true"&&(e.addEventListener("click",o=>{o.stopPropagation(),t.classList.toggle("open"),e.classList.toggle("active")}),t.addEventListener("click",o=>{const r=o.target.closest(".dropdown-item");if(!r)return;e.textContent=r.textContent,t.classList.remove("open"),e.classList.remove("active");const s=r.dataset.category,n=new CustomEvent("category:selected",{detail:{category:s}});document.dispatchEvent(n)}),document.addEventListener("click",o=>{!t.contains(o.target)&&!e.contains(o.target)&&(t.classList.remove("open"),e.classList.remove("active"))}),e.dataset.dropdownInited="true")}let y=[],A="All categories";function P(){return window.innerWidth<768?10:24}function b(){const e=P(),t=y.slice(0,e);x(t)}async function l(e){try{A=e;let t;e==="All categories"||e==="All"||!e?t=await _():t=await E(e),y=t,b()}catch(t){console.error("loadBooksByCategory error:",t)}}async function $(){try{const e=await B();S(e),M(e),q(),a.dropdownMenu.addEventListener("click",t=>{const o=t.target.closest(".dropdown-item");if(!o)return;const r=o.dataset.category||o.textContent.trim();a.dropdownToggle.textContent=o.textContent.trim(),l(r)}),a.categoriesList.addEventListener("click",t=>{const o=t.target.closest(".categories-item");if(!o)return;const r=o.dataset.category||o.textContent.trim();a.categoriesList.querySelectorAll(".categories-item").forEach(s=>s.classList.remove("active")),o.classList.add("active"),l(r)})}catch(e){console.error("initCategories error:",e)}}async function T(){await $(),await l("All categories")}window.addEventListener("resize",()=>{b()});T();new g(".swiper",{modules:[m,f],slidesPerView:1,loop:!1,navigation:{nextEl:".hero__button--next",prevEl:".hero__button--prev"},on:{init:function(){p(this)},slideChange:function(){p(this)}}});function p(e){const t=document.querySelector(".hero__button--prev"),o=document.querySelector(".hero__button--next");t.disabled=e.isBeginning,o.disabled=e.isEnd}new g(".swiper-feedbacks",{modules:[m,f,k,v,L],wrapperClass:"feedbacks__list",slideClass:"feedbacks__elements",loop:!1,speed:400,spaceBetween:24,slidesPerView:3,watchOverflow:!0,simulateTouch:!0,grabCursor:!0,autoplay:{delay:5e3,disableOnInteraction:!1},keyboard:{enabled:!0,onlyInViewport:!0},a11y:{enabled:!0,containerRoleDescriptionMessage:"Testimonials slider",slideRole:"listitem",prevSlideMessage:"Previous testimonials",nextSlideMessage:"Next testimonials"},navigation:{nextEl:".feedbacks__btn--next",prevEl:".feedbacks__btn--prev",disabledClass:"is-disabled"},pagination:{el:".feedbacks__dots",clickable:!0,bulletClass:"feedbacks__dots-elem",bulletActiveClass:"is-active",renderBullet:(e,t)=>`<span class="${t}" aria-label="Go to slide group ${e+1}"></span>`},breakpoints:{0:{slidesPerView:1,spaceBetween:16},768:{slidesPerView:2,spaceBetween:24},1024:{slidesPerView:3,spaceBetween:24}}});
//# sourceMappingURL=index.js.map
