{"version":3,"file":"index.js","sources":["../src/js/api-functions.js","../src/js/refs.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\naxios.defaults.baseURL = 'https://books-backend.p.goit.global/';\n\nexport async function getCategoryList() {\n  try {\n    const response = await axios.get(`books/category-list`);\n    console.log(response.data);\n    // 🔹 Вибираємо лише об'єкти з непорожнім list_name\n    const categories = response.data\n      .filter(item => item.list_name && item.list_name.trim() !== '')\n      .map(item => item.list_name);\n    return categories;\n  } catch (error) {\n    console.error('getCategoryList error:', error);\n    throw error;\n  }\n}\n","export const refs = {\n  dropdownToggle: document.querySelector('.dropdown-toggle'),\n  dropdownMenu: document.querySelector('.dropdown-menu'),\n};\n","import { refs } from './refs.js';\n\nexport function renderCategoryList(categories) {\n  // додаємо \"All categories\" на початок\n  // const allCategories = ['All categories', ...categories];\n  // або:\n  categories.unshift('All');\n  const markup = categories\n    .map(category => `<li class=\"dropdown-item\">${category}</li>`)\n    .join('');\n  refs.dropdownMenu.innerHTML = markup;\n\n  // відкриття/закриття меню\n  refs.dropdownToggle.addEventListener('click', e => {\n    e.stopPropagation(); // щоб клік не закрив меню одразу\n    refs.dropdownMenu.classList.toggle('open');\n    refs.dropdownToggle.classList.toggle('active');\n  });\n\n  // вибір категорії\n  refs.dropdownMenu.addEventListener('click', e => {\n    if (e.target.classList.contains('dropdown-item')) {\n      refs.dropdownToggle.textContent = e.target.textContent;\n      refs.dropdownMenu.classList.remove('open');\n      refs.dropdownToggle.classList.remove('active');\n    }\n  });\n\n  // автозакриття при кліку поза меню\n  document.addEventListener('click', e => {\n    if (\n      !refs.dropdownMenu.contains(e.target) &&\n      !refs.dropdownToggle.contains(e.target)\n    ) {\n      refs.dropdownMenu.classList.remove('open');\n      refs.dropdownToggle.classList.remove('active');\n    }\n  });\n}\n","import { getCategoryList } from './js/api-functions.js';\nimport { renderCategoryList } from './js/render-functions.js';\n\nasync function initCategories() {\n  try {\n    const categories = await getCategoryList();\n    console.log('categories:', categories);\n    // тут можна рендерити категорії в DOM\n    renderCategoryList(categories);\n  } catch (error) {\n    console.error(error);\n  }\n}\ninitCategories();\n"],"names":["axios","getCategoryList","response","item","error","refs","renderCategoryList","categories","markup","category","initCategories"],"mappings":"ivBAEAA,EAAM,SAAS,QAAU,uCAElB,eAAeC,GAAkB,CACtC,GAAI,CACF,MAAMC,EAAW,MAAMF,EAAM,IAAI,qBAAqB,EACtD,eAAQ,IAAIE,EAAS,IAAI,EAENA,EAAS,KACzB,OAAOC,GAAQA,EAAK,WAAaA,EAAK,UAAU,KAAM,IAAK,EAAE,EAC7D,IAAIA,GAAQA,EAAK,SAAS,CAE9B,OAAQC,EAAO,CACd,cAAQ,MAAM,yBAA0BA,CAAK,EACvCA,CACP,CACH,CCjBO,MAAMC,EAAO,CAClB,eAAgB,SAAS,cAAc,kBAAkB,EACzD,aAAc,SAAS,cAAc,gBAAgB,CACvD,ECDO,SAASC,EAAmBC,EAAY,CAI7CA,EAAW,QAAQ,KAAK,EACxB,MAAMC,EAASD,EACZ,IAAIE,GAAY,6BAA6BA,CAAQ,OAAO,EAC5D,KAAK,EAAE,EACVJ,EAAK,aAAa,UAAYG,EAG9BH,EAAK,eAAe,iBAAiB,QAAS,GAAK,CACjD,EAAE,gBAAe,EACjBA,EAAK,aAAa,UAAU,OAAO,MAAM,EACzCA,EAAK,eAAe,UAAU,OAAO,QAAQ,CACjD,CAAG,EAGDA,EAAK,aAAa,iBAAiB,QAAS,GAAK,CAC3C,EAAE,OAAO,UAAU,SAAS,eAAe,IAC7CA,EAAK,eAAe,YAAc,EAAE,OAAO,YAC3CA,EAAK,aAAa,UAAU,OAAO,MAAM,EACzCA,EAAK,eAAe,UAAU,OAAO,QAAQ,EAEnD,CAAG,EAGD,SAAS,iBAAiB,QAAS,GAAK,CAEpC,CAACA,EAAK,aAAa,SAAS,EAAE,MAAM,GACpC,CAACA,EAAK,eAAe,SAAS,EAAE,MAAM,IAEtCA,EAAK,aAAa,UAAU,OAAO,MAAM,EACzCA,EAAK,eAAe,UAAU,OAAO,QAAQ,EAEnD,CAAG,CACH,CCnCA,eAAeK,GAAiB,CAC9B,GAAI,CACF,MAAMH,EAAa,MAAMN,IACzB,QAAQ,IAAI,cAAeM,CAAU,EAErCD,EAAmBC,CAAU,CAC9B,OAAQH,EAAO,CACd,QAAQ,MAAMA,CAAK,CACpB,CACH,CACAM,EAAgB"}