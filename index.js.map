{"version":3,"file":"index.js","sources":["../src/js/menu.js","../src/js/api-functions.js","../src/js/refs.js","../src/js/render-functions.js","../src/js/books.js","../src/js/hero.js","../src/js/feedbacks.js"],"sourcesContent":["const openMenuBtn = document.querySelector('[data-menu-open]');\nconst closeMenuBtn = document.querySelector('[data-menu-close]');\nconst mobileMenu = document.querySelector('[data-menu]');\n\nopenMenuBtn.addEventListener('click', () => {\n  mobileMenu.classList.add('is-open');\n  /* document.body.style.overflow = 'hidden'; */\n});\n\ncloseMenuBtn.addEventListener('click', () => {\n  mobileMenu.classList.remove('is-open');\n  /* document.body.style.overflow = ''; */\n});\n\ndocument.querySelectorAll('.nav-link-mob').forEach(link =>\n  link.addEventListener('click', () => {\n    mobileMenu.classList.remove('is-open');\n    /* document.body.style.overflow = ''; */\n  })\n);\n\nconsole.log(document.querySelector('[data-menu-open]'));\nconsole.log(document.querySelector('[data-menu]'));\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://books-backend.p.goit.global';\n\nexport async function getCategoryList() {\n  try {\n    const response = await axios.get(`/books/category-list`);\n    // console.log(response.data);\n    // üîπ –í–∏–±–∏—Ä–∞—î–º–æ –ª–∏—à–µ –æ–±'—î–∫—Ç–∏ –∑ –Ω–µ–ø–æ—Ä–æ–∂–Ω—ñ–º list_name\n    const categories = response.data\n      .filter(item => item.list_name && item.list_name.trim() !== '')\n      .map(item => item.list_name);\n    return categories;\n  } catch (error) {\n    console.error('getCategoryList error:', error);\n    throw error;\n  }\n}\n\nexport async function getTopBooks() {\n  try {\n    const response = await axios.get('/books/top-books');\n    // console.log(response.data);\n    // ‚úÖ –ö–æ–∂–µ–Ω –µ–ª–µ–º–µ–Ω—Ç ‚Äî –æ–±‚Äô—î–∫—Ç —ñ–∑ –ø–æ–ª–µ–º books (–º–∞—Å–∏–≤ –∫–Ω–∏–≥)\n    const topbooks = response.data.flatMap(item => item.books);\n    // console.log(topbooks);\n    return topbooks;\n  } catch (error) {\n    console.error('getTopBooks error:', error);\n    throw error;\n  }\n}\nexport async function getBooksByCategory(category) {\n  try {\n    const { data } = await axios.get(`/books/category?category`, {\n      params: { category },\n    });\n    console.log(data);\n\n    return data;\n  } catch (error) {\n    console.error('getBooksByCategory error:', error);\n    throw error;\n  }\n}\nexport async function getBookById(id) {\n  try {\n    const { data } = await axios.get(`/books/${id}`);\n    return data;\n  } catch (error) {\n    console.error('getBookById error:', error);\n    throw error;\n  }\n}\n","export const refs = {\n  dropdownToggle: document.querySelector('.dropdown-toggle'),\n  dropdownMenu: document.querySelector('.dropdown-menu'),\n  categoriesList: document.querySelector('.categories-list'),\n  bookCardList: document.querySelector('.books-cards-list'),\n  showMoreBtn: document.querySelector('.show-more-btn'),\n};\n","import { refs } from './refs.js';\n\nexport function renderCategoryDpopList(categories) {\n  // –¥–æ–¥–∞—î–º–æ \"All categories\" –Ω–∞ –ø–æ—á–∞—Ç–æ–∫\n  // const allCategories = ['All categories', ...categories];\n  // –∞–±–æ:\n  categories.unshift('All');\n  const markup = categories\n    .map(category => `<li class=\"dropdown-item\">${category}</li>`)\n    .join('');\n  refs.dropdownMenu.innerHTML = markup;\n\n  // –≤—ñ–¥–∫—Ä–∏—Ç—Ç—è/–∑–∞–∫—Ä–∏—Ç—Ç—è –º–µ–Ω—é\n  refs.dropdownToggle.addEventListener('click', e => {\n    e.stopPropagation(); // —â–æ–± –∫–ª—ñ–∫ –Ω–µ –∑–∞–∫—Ä–∏–≤ –º–µ–Ω—é –æ–¥—Ä–∞–∑—É\n    refs.dropdownMenu.classList.toggle('open');\n    refs.dropdownToggle.classList.toggle('active');\n  });\n\n  // –≤–∏–±—ñ—Ä –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó\n  refs.dropdownMenu.addEventListener('click', e => {\n    if (e.target.classList.contains('dropdown-item')) {\n      refs.dropdownToggle.textContent = e.target.textContent;\n      refs.dropdownMenu.classList.remove('open');\n      refs.dropdownToggle.classList.remove('active');\n    }\n  });\n\n  // –∞–≤—Ç–æ–∑–∞–∫—Ä–∏—Ç—Ç—è –ø—Ä–∏ –∫–ª—ñ–∫—É –ø–æ–∑–∞ –º–µ–Ω—é\n  document.addEventListener('click', e => {\n    if (\n      !refs.dropdownMenu.contains(e.target) &&\n      !refs.dropdownToggle.contains(e.target)\n    ) {\n      refs.dropdownMenu.classList.remove('open');\n      refs.dropdownToggle.classList.remove('active');\n    }\n  });\n}\n\nexport function renderCategories(categories) {\n  const markuoCategories = categories\n    .map(\n      category =>\n        `<li class=\"books__filter\" data-category=\"${category}\">${category}</li>`\n    )\n    .join('');\n  refs.categoriesList.innerHTML = markuoCategories;\n}\n// –≤—ñ–¥–º–∞–ª—å–æ–≤—É—î–º–æ —Å–ø–∏—Å–æ–∫ –∫–Ω–∏–≥:\nexport function renderBookCardlist(topbooks) {\n  const markupBooks = topbooks\n    .map(\n      ({\n        _id,\n        book_image,\n        description,\n        title,\n        author,\n        price,\n      }) => `<li class=\"books-card\" data-id=\"${_id}>\n        <img class=\"books-card-image\" src=\"${book_image}\" alt=\"${description}\" />\n        <div class=\"books-card-text-wrapper\">\n          <h3 class=\"books-card-title\">${title}</h3>\n          <p class=\"books-card-author\">${author}</p>\n        </div>\n        <p class=\"books-card-price\">$${price}</p>\n        <button class=\"books-card-btn\" type=\"button\">Learn More</button>\n      </li>`\n    )\n    .join('');\n  refs.bookCardList.innerHTML = markupBooks;\n}\n","import {\n  getCategoryList,\n  getTopBooks,\n  getBooksByCategory,\n  getBookById,\n} from './api-functions.js';\n\nimport {\n  renderCategories,\n  renderCategoryDpopList,\n  renderBookCardlist,\n} from './render-functions.js';\n\nexport async function initCategories() {\n  try {\n    const categories = await getCategoryList();\n    // —Ç—É—Ç –º–æ–∂–Ω–∞ —Ä–µ–Ω–¥–µ—Ä–∏—Ç–∏ –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó –≤ DOM\n    renderCategoryDpopList(categories);\n  } catch (error) {\n    console.error(error);\n  }\n}\ninitCategories();\n\nexport async function initCategoriesDesk() {\n  try {\n    const categories = await getCategoryList();\n    // —Ç—É—Ç –º–æ–∂–Ω–∞ —Ä–µ–Ω–¥–µ—Ä–∏—Ç–∏ –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó –≤ DOM\n    renderCategories(categories);\n  } catch (error) {\n    console.error(error);\n  }\n}\ninitCategoriesDesk();\n\nasync function initBooks() {\n  try {\n    const topbooks = await getTopBooks();\n\n    // ‚úÖ –í–∏–∑–Ω–∞—á–∞—î–º–æ —à–∏—Ä–∏–Ω—É –µ–∫—Ä–∞–Ω–∞\n    const screenWidth = window.innerWidth;\n\n    // ‚úÖ –ó–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ —Ä–æ–∑–º—ñ—Ä—É –µ–∫—Ä–∞–Ω–∞ ‚Äî –æ–±—Ä—ñ–∑–∞—î–º–æ –º–∞—Å–∏–≤\n    const limitedBooks =\n      screenWidth < 768 ? topbooks.slice(0, 10) : topbooks.slice(0, 24);\n\n    renderBookCardlist(limitedBooks);\n  } catch (error) {\n    console.error('initBooks error:', error);\n  }\n}\ninitBooks();\n\n/* TECT–£–í–ê–ù–ù–Ø API  */\n/*\n    export async function testAPI() {\n      try {\n        console.log('üìò –¢–µ—Å—Ç 1: getCategoryList()');\n        const categories = await getCategoryList();\n        console.log('‚úÖ –û—Ç—Ä–∏–º–∞–Ω—ñ –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó:', categories);\n        console.log('----------------------------------');\n    \n        console.log('üìö –¢–µ—Å—Ç 2: getTopBooks()');\n        const topBooks = await getTopBooks();\n        console.log('‚úÖ –û—Ç—Ä–∏–º–∞–Ω—ñ —Ç–æ–ø-–∫–Ω–∏–≥–∏ (–ø–µ—Ä—à–∞ –∫–Ω–∏–≥–∞):', topBooks[0]);\n        console.log('----------------------------------');\n    \n        console.log('üìó –¢–µ—Å—Ç 3: getBooksByCategory()');\n        // –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ –ø–µ—Ä—à—É –∫–∞—Ç–µ–≥–æ—Ä—ñ—é –∑—ñ —Å–ø–∏—Å–∫—É, —â–æ–± –Ω–µ –ø–∏—Å–∞—Ç–∏ –≤—Ä—É—á–Ω—É\n        const booksByCategory = await getBooksByCategory(categories[0]);\n        console.log(`‚úÖ –ö–Ω–∏–≥–∏ –∑ –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó \"${categories[0]}\":`, booksByCategory);\n        console.log('----------------------------------');\n    \n        console.log('üìô –¢–µ—Å—Ç 4: getBookById()');\n        // –±–µ—Ä–µ–º–æ id –ø–µ—Ä—à–æ—ó –∫–Ω–∏–≥–∏ –∑ –ø–æ–ø–µ—Ä–µ–¥–Ω—å–æ–≥–æ –∑–∞–ø–∏—Ç—É\n        const bookDetails = await getBookById(booksByCategory[0]._id);\n        console.log('‚úÖ –î–µ—Ç–∞–ª—ñ –∫–Ω–∏–≥–∏:', bookDetails);\n        console.log('----------------------------------');\n      } catch (error) {\n        console.error('‚ùå –ü–æ–º–∏–ª–∫–∞ –ø—ñ–¥ —á–∞—Å —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è API:', error);\n      }\n    }\n    testAPI();\n*/\n","import Swiper from 'swiper';\nimport { Navigation, Pagination } from 'swiper/modules';\nimport 'swiper/css';\nimport 'swiper/css/navigation';\nimport 'swiper/css/pagination';\n\nconst swiper = new Swiper('.swiper', {\n    modules: [Navigation, Pagination],\n    slidesPerView: 1,\n    loop: false,\n    navigation: {\n        nextEl: '.hero__button--next',\n        prevEl: '.hero__button--prev',\n    },\n    on: {\n        init: function () {\n            updateButtons(this);\n        },\n        slideChange: function () {\n            updateButtons(this);\n        },\n\n    },\n});\n\nfunction updateButtons(swiper) {\n    const prevBtn = document.querySelector('.hero__button--prev');\n    const nextBtn = document.querySelector('.hero__button--next');\n\n    prevBtn.disabled = swiper.isBeginning;\n    nextBtn.disabled = swiper.isEnd;\n}","import Swiper from 'swiper';\nimport { Navigation, Pagination, Keyboard, A11y, Autoplay } from 'swiper/modules';\nimport 'swiper/css';\nimport 'swiper/css/navigation';\nimport 'swiper/css/pagination';\n\nconst feedbacksSwiper = new Swiper('.swiper-feedbacks', {\n  modules: [Navigation, Pagination, Keyboard, A11y, Autoplay],\n  wrapperClass: 'feedbacks__list',\n  slideClass: 'feedbacks__elements',\n  loop: false,\n  speed: 400,\n  spaceBetween: 24,\n  slidesPerView: 3,\n  watchOverflow: true, \n  simulateTouch: true,\n  grabCursor: true,\n   autoplay: {\n   delay: 5000,\n   disableOnInteraction: false,\n },\n  keyboard: {\n    enabled: true,\n    onlyInViewport: true,\n  },\n  a11y: {\n    enabled: true,\n    containerRoleDescriptionMessage: 'Testimonials slider',\n    slideRole: 'listitem',\n    prevSlideMessage: 'Previous testimonials',\n    nextSlideMessage: 'Next testimonials',\n  },\n  navigation: {\n    nextEl: '.feedbacks__btn--next',\n    prevEl: '.feedbacks__btn--prev',\n    disabledClass: 'is-disabled', \n  },\n  pagination: {\n    el: '.feedbacks__dots',\n    clickable: true,\n    bulletClass: 'feedbacks__dots-elem',\n    bulletActiveClass: 'is-active',\n    renderBullet: (index, className) =>\n      `<span class=\"${className}\" aria-label=\"Go to slide group ${\n        index + 1\n      }\"></span>`,\n  },\n  breakpoints: {\n    0: { slidesPerView: 1, spaceBetween: 16 },\n    768: { slidesPerView: 2, spaceBetween: 24 },\n    1024: { slidesPerView: 3, spaceBetween: 24 },\n  },\n});\n"],"names":["openMenuBtn","closeMenuBtn","mobileMenu","link","axios","getCategoryList","item","error","getTopBooks","refs","renderCategoryDpopList","categories","markup","category","e","renderCategories","markuoCategories","renderBookCardlist","topbooks","markupBooks","_id","book_image","description","title","author","price","initCategories","initCategoriesDesk","initBooks","limitedBooks","Swiper","Navigation","Pagination","updateButtons","swiper","prevBtn","nextBtn","Keyboard","A11y","Autoplay","index","className"],"mappings":"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"}