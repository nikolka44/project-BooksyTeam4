import{a as h,i as k,S as D,N,K as F,A as R,P as U}from"./assets/vendor-D06mhQYR.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const c of n.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function o(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerPolicy&&(n.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?n.credentials="include":s.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function a(s){if(s.ep)return;s.ep=!0;const n=o(s);fetch(s.href,n)}})();const G=document.querySelector("[data-menu-open]"),J=document.querySelector("[data-menu-close]"),I=document.querySelector("[data-menu]");G.addEventListener("click",()=>{I.classList.add("is-open"),document.body.style.overflow="hidden",document.body.style.overflow="hidden"});J.addEventListener("click",()=>{I.classList.remove("is-open"),document.body.style.overflow="",document.body.style.overflow=""});document.querySelectorAll(".nav-link-mob").forEach(e=>e.addEventListener("click",()=>{I.classList.remove("is-open"),document.body.style.overflow="",document.body.style.overflow=""}));const i={dropdownToggle:document.querySelector(".dropdown-toggle"),dropdownMenu:document.querySelector(".dropdown-menu"),categoriesList:document.querySelector(".categories-list"),bookCardList:document.querySelector(".books-cards-list"),showMoreBtn:document.querySelector(".show-more-btn"),bookModalBackdrop:document.querySelector("#book-modal-backdrop"),bookModalContent:document.querySelector(".book-modal-content"),bookModalClose:document.querySelector("#book-modal-close"),booksShown:document.querySelector(".books-shown"),booksTotal:document.querySelector(".books-total"),body:document.querySelector("body")};h.defaults.baseURL="https://books-backend.p.goit.global";function E(e,t){throw console.error(`${t} error:`,e.message||e),e}async function Y(){try{return(await h.get("/books/category-list")).data.filter(o=>o.list_name&&o.list_name.trim()!=="").map(o=>o.list_name)}catch(e){E(e,"getCategoryList")}}async function Q(){try{return(await h.get("/books/top-books")).data.flatMap(o=>o.books)}catch(e){E(e,"getTopBooks")}}async function Z(e){try{const{data:t}=await h.get("/books/category",{params:{category:e}});return console.log(t),t}catch(t){E(t,"getBooksByCategory")}}async function ee(e){try{const{data:t}=await h.get(`/books/${e}`);return t}catch(t){E(t,"getBookById")}}function te(e){const o=["All categories",...e].map(a=>`<li class="dropdown-item">${a}</li>`).join("");i.dropdownMenu.innerHTML=o}function oe(e){const o=["All categories",...e].map(a=>`<li class="categories-item" data-category="${a}">${a}</li>`).join("");i.categoriesList.innerHTML=o}function ne(e){return e?e.toLowerCase().split(" ").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" "):""}function se(e){const t=e.map(({_id:o,book_image:a,description:s="description || title",title:n,author:c,price:m})=>{const b=ne(n),g=parseInt(m);return`<li class="books-card" data-id="${o}">
        <img loading="lazy" class="books-card-image" src="${a}" alt="${s}" />
         <div class="books-card-text-wrapper">

            <div class="books-card-info">
              <h3 class="books-card-title">${b}</h3>
              <p class="books-card-author">${c}</p>
            </div>

            <p class="books-card-price">$${g}</p>

          </div>
        <button class="books-card-btn" type="button">Learn More</button>
      </li>`}).join("");i.bookCardList.insertAdjacentHTML("beforeend",t)}function re(e){return`
    <div class="book-modal-wrapper">
      <img
        src="${e.book_image}"
        alt="${e.title}"
        class="book-modal-image"
      />
      <div class="book-modal-describe">
        <h2 class="book-modal-title">${e.title}</h2>
        <p class="book-modal-author">${e.author}</p>
        <p class="book-modal-price">$${e.price}</p>

        <form class="book-modal-actions">
          <div class="quantity-control">
            <button type="button" class="qty-btn minus" data-action="decrease">-</button>
            <input
             type="text"
             class="qty-value"
             name="quantity"
             value="1"
             min="1"
             max="99"
             readonly
      />
            <button type="button" class="qty-btn plus" data-action="increase">+</button>
          </div>
          <div class="book-modal-btn">
            <button type="button" class="add-to-cart-btn">Add To Cart</button>
            <button type="submit" class="buy-now-btn">Buy Now</button>
          </div>
        </form>

        <div class="book-modal-details">
          <details>
            <summary>Details</summary>
            <p>${e.description||e.title}</p>
          </details>
          <details>
            <summary>Shipping</summary>
            <p>We ship across the United States within 2‚Äì5 business days. All orders are processed through USPS or a reliable courier service. Enjoy free standard shipping on orders over $50.</p>
          </details>
          <details>
            <summary>Returns</summary>
            <p>You can return an item within 14 days of receiving your order, provided it hasn‚Äôt been used and is in its original condition. To start a return, please contact our support team ‚Äî we‚Äôll guide you through the process quickly and hassle-free.</p>
          </details>
        </div>
      </div>
    </div>
  `}function ie(){const e=i.dropdownToggle,t=i.dropdownMenu;!e||!t||e.dataset.dropdownInited!=="true"&&(e.addEventListener("click",o=>{o.stopPropagation(),t.classList.toggle("open"),e.classList.toggle("active")}),t.addEventListener("click",o=>{const a=o.target.closest(".dropdown-item");if(!a)return;e.textContent=a.textContent,t.classList.remove("open"),e.classList.remove("active");const s=a.dataset.category,n=new CustomEvent("category:selected",{detail:{category:s}});document.dispatchEvent(n)}),document.addEventListener("click",o=>{!t.contains(o.target)&&!e.contains(o.target)&&(t.classList.remove("open"),e.classList.remove("active"))}),e.dataset.dropdownInited="true")}function ae(){i.bookCardList&&i.bookCardList.dataset.modalInited!=="true"&&(i.bookCardList.addEventListener("click",ce),i.bookCardList.dataset.modalInited="true")}async function ce(e){const t=e.target.closest(".books-card-btn");if(!t)return;const a=t.closest(".books-card").dataset.id;if(a){console.log(a);try{const s=await ee(a);le(s),de()}catch(s){console.error("‚ùå Error loading book details:",s),k.error({message:"–ù–µ –≤–¥–∞–ª–æ—Å—è –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –¥–∞–Ω—ñ –∫–Ω–∏–≥–∏ üò¢",position:"topRight"})}}}function le(e){i.bookModalContent.innerHTML=re(e),i.bookModalBackdrop.classList.remove("is-hidden"),i.bookModalClose.addEventListener("click",C),i.bookModalBackdrop.addEventListener("click",j),document.addEventListener("keydown",V),i.body.classList.add("noScroll")}function de(){const e=i.bookModalContent;if(!e){console.warn("bookOrderForm: refs.bookModalContent not found ‚Äî skipping form init");return}const t=e.querySelector(".book-modal-actions"),o=e.querySelector(".plus"),a=e.querySelector(".minus"),s=e.querySelector(".qty-value"),n=e.querySelector(".add-to-cart-btn");if(!t||!o||!a||!s||!n){console.warn("‚ö†Ô∏è Book order form not found in modal");return}o.addEventListener("click",()=>{let c=parseInt(s.value);c<parseInt(s.max)&&(s.value=c+1)}),a.addEventListener("click",()=>{let c=parseInt(s.value);c>parseInt(s.min)&&(s.value=c-1)}),n.addEventListener("click",()=>{const c=s.value;console.log(`–î–æ–¥–∞–Ω–æ –¥–æ –∫–æ—à–∏–∫–∞ ${c} –∫–Ω–∏–≥(–∏).`),k.show({message:`–î–æ–¥–∞–Ω–æ –¥–æ –∫–æ—à–∏–∫–∞ ${c} –∫–Ω–∏–≥(–∏).`,backgroundColor:"#fceee6",position:"topRight",close:!1,messageSize:"20",timeout:2e3,closeOnClick:!0})}),t.addEventListener("submit",c=>{c.preventDefault(),k.show({message:"–î—è–∫—É—î–º–æ –∑–∞ –ø–æ–∫—É–ø–∫—É üíõüíô",backgroundColor:"#e15d05",position:"topRight",close:!1,messageSize:"20",timeout:2e3})})}function C(){i.bookModalBackdrop.classList.add("is-hidden"),i.bookModalContent.innerHTML="",i.bookModalClose.removeEventListener("click",C),i.bookModalBackdrop.removeEventListener("click",j),document.removeEventListener("keydown",V),i.body.classList.remove("noScroll")}function j(e){e.target===i.bookModalBackdrop&&C()}function V(e){e.key==="Escape"&&C()}let y=[],ue="All categories",f=0;const X=4;function me(){return window.innerWidth<768?10:24}i.showMoreBtn&&i.showMoreBtn.classList.add("is-hidden");function z(){f>=y.length?i.showMoreBtn.classList.add("is-hidden"):i.showMoreBtn.classList.remove("is-hidden")}function $(e=!1){f=Math.min(f,y.length);const t=e?y.slice(f-X,f):y.slice(0,f);e||(i.bookCardList.innerHTML=""),se(t),i.booksShown&&(i.booksShown.textContent=f),i.booksTotal&&(i.booksTotal.textContent=y.length),z(),ae()}async function T(e){try{i.showMoreBtn.classList.add("is-hidden"),i.bookCardList.innerHTML="",ue=e;let t;e==="All categories"||e==="All"||!e?t=await Q():t=await Z(e),y=t,f=me(),$(),z()}catch(t){console.error("loadBooksByCategory error:",t)}}function fe(){f+=X,$(!0)}async function pe(){try{const e=await Y();te(e),oe(e),ie(),i.dropdownMenu.addEventListener("click",t=>{const o=t.target.closest(".dropdown-item");if(!o)return;const a=o.dataset.category||o.textContent.trim();i.dropdownToggle.textContent=o.textContent.trim(),T(a)}),i.categoriesList.addEventListener("click",t=>{const o=t.target.closest(".categories-item");if(!o)return;const a=o.dataset.category||o.textContent.trim();i.categoriesList.querySelectorAll(".categories-item").forEach(s=>s.classList.remove("active")),o.classList.add("active"),T(a)})}catch(e){console.error("initCategories error:",e)}}async function be(){await pe(),await T("All categories")}i.showMoreBtn.addEventListener("click",fe);window.addEventListener("resize",()=>{$()});be();const M=document.querySelector(".hero__button--prev"),S=document.querySelector(".hero__button--next");if(M&&S){let e=function(t){M.disabled=t.isBeginning,S.disabled=t.isEnd};new D(".swiper",{modules:[N,F,R],slidesPerView:1,speed:400,grabCursor:!0,watchOverflow:!0,simulateTouch:!0,loop:!1,navigation:{nextEl:S,prevEl:M},autoplay:{delay:5e3,disableOnInteraction:!1},keyboard:{enabled:!0,onlyInViewport:!0},on:{init:e,slideChange:e}})}const x=document.querySelector(".feedbacks__btn--prev"),q=document.querySelector(".feedbacks__btn--next");if(x&&q){let e=function(t){x.disabled=t.isBeginning,q.disabled=t.isEnd};new D(".swiper-feedbacks",{modules:[N,F,R,U],slidesPerView:1,speed:400,grabCursor:!0,watchOverflow:!0,simulateTouch:!0,loop:!1,navigation:{nextEl:q,prevEl:x},autoplay:{delay:5e3,disableOnInteraction:!1},breakpoints:{0:{slidesPerView:1,spaceBetween:0},768:{slidesPerView:2,spaceBetween:24},1440:{slidesPerView:3,spaceBetween:24}},keyboard:{enabled:!0,onlyInViewport:!0},on:{init:e,slideChange:e},pagination:{el:".feedbacks__dots",clickable:!0,bulletElement:"button",bulletClass:"feedbacks__dots-elem",bulletActiveClass:"is-active",renderBullet:function(t,o){const a=`feedbacks-slide-${t+1}`;return`<button 
            type="button"
            class="${o}"
            role="button"
            aria-controls="${a}"
            aria-label="Go to testimonial ${t+1}">
          </button>`}}})}console.log("Events.js loaded");document.addEventListener("DOMContentLoaded",()=>{console.log("DOMContentLoaded fired in events.js");const e=document.querySelector(".events-list"),t=document.querySelectorAll(".event-item"),o=document.querySelector(".slider-btn.prev"),a=document.querySelector(".slider-btn.next"),s=document.querySelectorAll(".pagination-dot");if(!e||!t.length){console.error("Slider elements not found");return}let n=0;function c(){return window.innerWidth>=1440?3:window.innerWidth>=768?2:1}function m(){const r=c(),l=t[0].offsetWidth,d=(window.innerWidth>=768,24),u=n*(l+d);e.style.transform=`translateX(-${u}px)`;const p=Math.max(0,t.length-r);o&&(o.disabled=n===0),a&&(a.disabled=n>=p),s.forEach((H,K)=>{H.classList.toggle("active",K===n)})}a&&a.addEventListener("click",()=>{const r=c(),l=Math.max(0,t.length-r);n<l&&(n++,m())}),o&&o.addEventListener("click",()=>{n>0&&(n--,m())}),document.addEventListener("keydown",r=>{const l=document.activeElement;if(!(l&&(l.tagName==="INPUT"||l.tagName==="TEXTAREA"||l.isContentEditable)))if(r.key==="ArrowRight"){const u=c(),p=Math.max(0,t.length-u);n<p&&(n++,m())}else r.key==="ArrowLeft"&&n>0&&(n--,m())});let b=0,g=!1;e.addEventListener("mousedown",r=>{r.target.closest("button, a, input, textarea, select")||(g=!0,b=r.clientX)}),e.addEventListener("mouseup",r=>{if(!g)return;const l=r.clientX,d=b-l;if(Math.abs(d)>50){if(d>0){const u=c(),p=Math.max(0,t.length-u);n<p&&n++}else n>0&&n--;m()}g=!1}),e.addEventListener("mouseleave",()=>{g=!1}),e.addEventListener("touchstart",r=>{!r.touches||!r.touches[0]||(b=r.touches[0].clientX)}),e.addEventListener("touchend",r=>{if(!r.changedTouches||!r.changedTouches[0])return;const l=r.changedTouches[0].clientX,d=b-l;if(Math.abs(d)>50){if(d>0){const u=c(),p=Math.max(0,t.length-u);n<p&&n++}else n>0&&n--;m()}}),s.forEach((r,l)=>{r.addEventListener("click",()=>{const d=c(),u=Math.max(0,t.length-d);n=Math.min(l,u),m()})});let A;window.addEventListener("resize",()=>{clearTimeout(A),A=setTimeout(()=>{const r=c(),l=Math.max(0,t.length-r);n>l&&(n=l),m()},100)}),m();const v=document.getElementById("eventModal"),B=document.getElementById("modalEventName"),O=document.querySelector(".modal-close"),w=document.getElementById("eventForm"),_=document.querySelectorAll(".event-btn");if(!v||!B||!O||!w){console.error("Modal elements not found");return}console.log("Found event buttons:",_.length);function P(r){r.key==="Escape"&&L()}function W(r){B.textContent=r,v.classList.remove("is-hidden"),document.body.style.overflow="hidden",document.addEventListener("keydown",P)}function L(){v.classList.add("is-hidden"),document.body.style.overflow="",w.reset(),document.removeEventListener("keydown",P)}_.forEach((r,l)=>{console.log(`Setting up button ${l}`,r),r.addEventListener("click",d=>{d.preventDefault();const u=r.getAttribute("data-event");console.log("Button clicked, event:",u),W(u)})}),O.addEventListener("click",r=>{r.preventDefault(),L()}),v.addEventListener("click",r=>{r.target===v&&L()}),w.addEventListener("submit",r=>{r.preventDefault();const l=new FormData(w),d=Object.fromEntries(l);console.log("Form submitted:",d),k.success({title:"Success",message:`Thank you for registering for "${B.textContent}"! We'll contact you soon.`,position:"topRight",timeout:4e3,backgroundColor:"#1c1c1c",titleColor:"#ffa14a",messageColor:"#fff",iconColor:"#ffa14a",progressBarColor:"#ffa14a"}),L()})});const ge=document.querySelector(".footer-form");ge.addEventListener("submit",ye);function ye(e){e.preventDefault(),k.show({message:"–î—è–∫—É—î–º–æ –∑–∞ —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—é!",backgroundColor:"#fceee6",position:"topRight",close:!1,messageSize:"18",timeout:2e3}),e.target.reset()}
//# sourceMappingURL=index.js.map
