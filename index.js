import{a as k,S as P,N as O,K as D,A as N,P as H,b as K}from"./assets/vendor-DT0iJ38e.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const d of n.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function o(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerPolicy&&(n.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?n.credentials="include":r.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(r){if(r.ep)return;r.ep=!0;const n=o(r);fetch(r.href,n)}})();const U=document.querySelector("[data-menu-open]"),z=document.querySelector("[data-menu-close]"),S=document.querySelector("[data-menu]");U.addEventListener("click",()=>{S.classList.add("is-open"),document.body.style.overflow="hidden",document.body.style.overflow="hidden"});z.addEventListener("click",()=>{S.classList.remove("is-open"),document.body.style.overflow="",document.body.style.overflow=""});document.querySelectorAll(".nav-link-mob").forEach(e=>e.addEventListener("click",()=>{S.classList.remove("is-open"),document.body.style.overflow="",document.body.style.overflow=""}));const i={dropdownToggle:document.querySelector(".dropdown-toggle"),dropdownMenu:document.querySelector(".dropdown-menu"),categoriesList:document.querySelector(".categories-list"),bookCardList:document.querySelector(".books-cards-list"),showMoreBtn:document.querySelector(".show-more-btn"),bookModalBackdrop:document.querySelector("#book-modal-backdrop"),bookModalContent:document.querySelector(".book-modal-content"),bookModalClose:document.querySelector("#book-modal-close"),booksShown:document.querySelector(".books-shown"),booksTotal:document.querySelector(".books-total"),body:document.querySelector("body")};k.defaults.baseURL="https://books-backend.p.goit.global";function L(e,t){throw console.error(`${t} error:`,e.message||e),e}async function G(){try{return(await k.get("/books/category-list")).data.filter(o=>o.list_name&&o.list_name.trim()!=="").map(o=>o.list_name)}catch(e){L(e,"getCategoryList")}}async function Y(){try{return(await k.get("/books/top-books")).data.flatMap(o=>o.books)}catch(e){L(e,"getTopBooks")}}async function J(e){try{const{data:t}=await k.get("/books/category",{params:{category:e}});return console.log(t),t}catch(t){L(t,"getBooksByCategory")}}async function Q(e){try{const{data:t}=await k.get(`/books/${e}`);return t}catch(t){L(t,"getBookById")}}function Z(e){const o=["All categories",...e].map(s=>`<li class="dropdown-item">${s}</li>`).join("");i.dropdownMenu.innerHTML=o}function ee(e){const o=["All categories",...e].map(s=>`<li class="categories-item" data-category="${s}">${s}</li>`).join("");i.categoriesList.innerHTML=o}function te(e){return e?e.toLowerCase().split(" ").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" "):""}function oe(e){const t=e.map(({_id:o,book_image:s,description:r="description || title",title:n,author:d,price:m})=>{const p=te(n),g=parseInt(m);return`<li class="books-card" data-id="${o}">
        <img loading="lazy" class="books-card-image" src="${s}" alt="${r}" />
         <div class="books-card-text-wrapper">

            <div class="books-card-info">
              <h3 class="books-card-title">${p}</h3>
              <p class="books-card-author">${d}</p>
            </div>

            <p class="books-card-price">$${g}</p>

          </div>
        <button class="books-card-btn" type="button">Learn More</button>
      </li>`}).join("");i.bookCardList.innerHTML=t}function ne(e){return`
    <div class="book-modal-wrapper">
      <img
        src="${e.book_image}"
        alt="${e.title}"
        class="book-modal-image"
      />
      <div class="book-modal-describe">
        <h2 class="book-modal-title">${e.title}</h2>
        <p class="book-modal-author">${e.author}</p>
        <p class="book-modal-price">$${e.price}</p>

        <div class="book-modal-actions">
          <div class="quantity-control">
            <button class="qty-btn" data-action="decrease">-</button>
            <span class="qty-value">1</span>
            <button class="qty-btn" data-action="increase">+</button>
          </div>
          <div class="book-modal-btn">
            <button class="add-to-cart-btn">Add To Cart</button>
            <button class="buy-now-btn">Buy Now</button>
          </div>
        </div>

        <div class="book-modal-details">
          <details>
            <summary>Details</summary>
            <p>${e.description||e.title}</p>
          </details>
          <details>
            <summary>Shipping</summary>
            <p>We ship across the United States within 2–5 business days. All orders are processed through USPS or a reliable courier service. Enjoy free standard shipping on orders over $50.</p>
          </details>
          <details>
            <summary>Returns</summary>
            <p>You can return an item within 14 days of receiving your order, provided it hasn’t been used and is in its original condition. To start a return, please contact our support team — we’ll guide you through the process quickly and hassle-free.</p>
          </details>
        </div>
      </div>
    </div>
  `}function se(){const e=i.dropdownToggle,t=i.dropdownMenu;!e||!t||e.dataset.dropdownInited!=="true"&&(e.addEventListener("click",o=>{o.stopPropagation(),t.classList.toggle("open"),e.classList.toggle("active")}),t.addEventListener("click",o=>{const s=o.target.closest(".dropdown-item");if(!s)return;e.textContent=s.textContent,t.classList.remove("open"),e.classList.remove("active");const r=s.dataset.category,n=new CustomEvent("category:selected",{detail:{category:r}});document.dispatchEvent(n)}),document.addEventListener("click",o=>{!t.contains(o.target)&&!e.contains(o.target)&&(t.classList.remove("open"),e.classList.remove("active"))}),e.dataset.dropdownInited="true")}function ae(){i.bookCardList&&i.bookCardList.dataset.modalInited!=="true"&&(i.bookCardList.addEventListener("click",re),i.bookCardList.dataset.modalInited="true")}async function re(e){const t=e.target.closest(".books-card-btn");if(!t)return;const s=t.closest(".books-card").dataset.id;if(s){console.log(s);try{const r=await Q(s);ie(r)}catch(r){console.error("❌ Error loading book details:",r)}}}function ie(e){i.bookModalContent.innerHTML=ne(e),i.bookModalBackdrop.classList.remove("is-hidden"),i.bookModalClose.addEventListener("click",E),i.bookModalBackdrop.addEventListener("click",R),document.addEventListener("keydown",V),i.body.classList.add("noScroll")}function E(){i.bookModalBackdrop.classList.add("is-hidden"),i.bookModalContent.innerHTML="",i.bookModalClose.removeEventListener("click",E),i.bookModalBackdrop.removeEventListener("click",R),document.removeEventListener("keydown",V),i.body.classList.remove("noScroll")}function R(e){e.target===i.bookModalBackdrop&&E()}function V(e){e.key==="Escape"&&E()}let y=[],le="All categories",f=0;const ce=4;function de(){return window.innerWidth<768?10:24}function ue(){f>=y.length?i.showMoreBtn.classList.add("is-hidden"):i.showMoreBtn.classList.remove("is-hidden")}function A(){f=Math.min(f,y.length);const e=y.slice(0,f);oe(e),i.booksShown&&(i.booksShown.textContent=f),i.booksTotal&&(i.booksTotal.textContent=y.length),ue(),ae()}async function x(e){try{le=e;let t;e==="All categories"||e==="All"||!e?t=await Y():t=await J(e),y=t,f=de(),A()}catch(t){console.error("loadBooksByCategory error:",t)}}function me(){f+=ce,A()}async function be(){try{const e=await G();Z(e),ee(e),se(),i.dropdownMenu.addEventListener("click",t=>{const o=t.target.closest(".dropdown-item");if(!o)return;const s=o.dataset.category||o.textContent.trim();i.dropdownToggle.textContent=o.textContent.trim(),x(s)}),i.categoriesList.addEventListener("click",t=>{const o=t.target.closest(".categories-item");if(!o)return;const s=o.dataset.category||o.textContent.trim();i.categoriesList.querySelectorAll(".categories-item").forEach(r=>r.classList.remove("active")),o.classList.add("active"),x(s)})}catch(e){console.error("initCategories error:",e)}}async function fe(){await be(),await x("All categories")}i.showMoreBtn.addEventListener("click",me);window.addEventListener("resize",()=>{A()});fe();const M=document.querySelector(".hero__button--prev"),B=document.querySelector(".hero__button--next");if(M&&B){let e=function(t){M.disabled=t.isBeginning,B.disabled=t.isEnd};new P(".swiper",{modules:[O,D,N],slidesPerView:1,speed:400,grabCursor:!0,watchOverflow:!0,simulateTouch:!0,loop:!1,navigation:{nextEl:B,prevEl:M},autoplay:{delay:5e3,disableOnInteraction:!1},keyboard:{enabled:!0,onlyInViewport:!0},on:{init:e,slideChange:e}})}new P(".swiper-feedbacks",{modules:[O,H,D,K,N],wrapperClass:"feedbacks__list",slideClass:"feedbacks__elements",loop:!1,speed:400,spaceBetween:24,slidesPerView:3,watchOverflow:!0,simulateTouch:!0,grabCursor:!0,breakpoints:{0:{slidesPerView:1,spaceBetween:0},768:{slidesPerView:2,spaceBetween:24},1440:{slidesPerView:3,spaceBetween:24}},keyboard:{enabled:!0,onlyInViewport:!0},a11y:{enabled:!0,slideRole:"group",itemRoleDescriptionMessage:"slide",slideLabelMessage:"{{index}} / {{slidesLength}}",paginationBulletMessage:"Go to slide {{index}}",prevSlideMessage:"Previous testimonials",nextSlideMessage:"Next testimonials",wrapperLiveRegion:!0},navigation:{nextEl:".feedbacks__btn--next",prevEl:".feedbacks__btn--prev",disabledClass:"is-disabled"},pagination:{el:".feedbacks__dots",clickable:!0,bulletElement:"button",bulletClass:"feedbacks__dots-elem",bulletActiveClass:"is-active",renderBullet:(e,t)=>{const o=`feedbacks-slide-${e+1}`;return`<button type="button"
                      class="${t}"
                      role="tab"
                      aria-controls="${o}"
                      aria-label="Go to testimonial ${e+1}">
              </button>`}},autoplay:{delay:5e3,disableOnInteraction:!1,pauseOnMouseEnter:!0},on:{afterInit(e){_(e),pe(e)},slideChange(e){_(e),X(e)}}});function _(e){var s,r;const t=(s=e.navigation)==null?void 0:s.prevEl,o=(r=e.navigation)==null?void 0:r.nextEl;t&&t.setAttribute("aria-disabled",t.classList.contains("is-disabled")?"true":"false"),o&&o.setAttribute("aria-disabled",o.classList.contains("is-disabled")?"true":"false")}function pe(e){const t=e.slides;t.forEach((o,s)=>{o.id||(o.id=`feedbacks-slide-${s+1}`),o.setAttribute("role","group"),o.setAttribute("aria-roledescription","slide"),o.setAttribute("aria-label",`${s+1} of ${t.length}`)}),X(e)}function X(e){var o;(((o=e.pagination)==null?void 0:o.bullets)||[]).forEach((s,r)=>{const n=`feedbacks-slide-${r+1}`;s.setAttribute("role","tab"),s.setAttribute("aria-controls",n),s.setAttribute("aria-label",`Go to testimonial ${r+1}`),s.setAttribute("aria-selected",r===e.activeIndex?"true":"false")})}console.log("Events.js loaded");document.addEventListener("DOMContentLoaded",()=>{console.log("DOMContentLoaded fired in events.js");const e=document.querySelector(".events-list"),t=document.querySelectorAll(".event-item"),o=document.querySelector(".slider-btn.prev"),s=document.querySelector(".slider-btn.next"),r=document.querySelectorAll(".pagination-dot");if(!e||!t.length){console.error("Slider elements not found");return}let n=0;function d(){return window.innerWidth>=1440?3:window.innerWidth>=768?2:1}function m(){const a=d(),l=t[0].offsetWidth,c=(window.innerWidth>=768,24),u=n*(l+c);e.style.transform=`translateX(-${u}px)`;const b=Math.max(0,t.length-a);o&&(o.disabled=n===0),s&&(s.disabled=n>=b),r.forEach((W,F)=>{W.classList.toggle("active",F===n)})}s&&s.addEventListener("click",()=>{const a=d(),l=Math.max(0,t.length-a);n<l&&(n++,m())}),o&&o.addEventListener("click",()=>{n>0&&(n--,m())}),document.addEventListener("keydown",a=>{const l=document.activeElement;if(!(l&&(l.tagName==="INPUT"||l.tagName==="TEXTAREA"||l.isContentEditable)))if(a.key==="ArrowRight"){const u=d(),b=Math.max(0,t.length-u);n<b&&(n++,m())}else a.key==="ArrowLeft"&&n>0&&(n--,m())});let p=0,g=!1;e.addEventListener("mousedown",a=>{a.target.closest("button, a, input, textarea, select")||(g=!0,p=a.clientX)}),e.addEventListener("mouseup",a=>{if(!g)return;const l=a.clientX,c=p-l;if(Math.abs(c)>50){if(c>0){const u=d(),b=Math.max(0,t.length-u);n<b&&n++}else n>0&&n--;m()}g=!1}),e.addEventListener("mouseleave",()=>{g=!1}),e.addEventListener("touchstart",a=>{!a.touches||!a.touches[0]||(p=a.touches[0].clientX)}),e.addEventListener("touchend",a=>{if(!a.changedTouches||!a.changedTouches[0])return;const l=a.changedTouches[0].clientX,c=p-l;if(Math.abs(c)>50){if(c>0){const u=d(),b=Math.max(0,t.length-u);n<b&&n++}else n>0&&n--;m()}}),r.forEach((a,l)=>{a.addEventListener("click",()=>{const c=d(),u=Math.max(0,t.length-c);n=Math.min(l,u),m()})});let T;window.addEventListener("resize",()=>{clearTimeout(T),T=setTimeout(()=>{const a=d(),l=Math.max(0,t.length-a);n>l&&(n=l),m()},100)}),m();const v=document.getElementById("eventModal"),C=document.getElementById("modalEventName"),$=document.querySelector(".modal-close"),h=document.getElementById("eventForm"),q=document.querySelectorAll(".event-btn");if(!v||!C||!$||!h){console.error("Modal elements not found");return}console.log("Found event buttons:",q.length);function I(a){a.key==="Escape"&&w()}function j(a){C.textContent=a,v.classList.remove("is-hidden"),document.body.style.overflow="hidden",document.addEventListener("keydown",I)}function w(){v.classList.add("is-hidden"),document.body.style.overflow="",h.reset(),document.removeEventListener("keydown",I)}q.forEach((a,l)=>{console.log(`Setting up button ${l}`,a),a.addEventListener("click",c=>{c.preventDefault();const u=a.getAttribute("data-event");console.log("Button clicked, event:",u),j(u)})}),$.addEventListener("click",a=>{a.preventDefault(),w()}),v.addEventListener("click",a=>{a.target===v&&w()}),h.addEventListener("submit",a=>{a.preventDefault();const l=new FormData(h),c=Object.fromEntries(l);console.log("Form submitted:",c),alert(`Thank you for registering for "${C.textContent}"! We'll contact you soon.`),w()})});
//# sourceMappingURL=index.js.map
