import{a as y,S as E,N as x,P as S,K as T,A as I,b as P}from"./assets/vendor-Dal2vjfK.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const c of n.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function o(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerPolicy&&(n.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?n.credentials="include":s.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(s){if(s.ep)return;s.ep=!0;const n=o(s);fetch(s.href,n)}})();const D=document.querySelector("[data-menu-open]"),O=document.querySelector("[data-menu-close]"),w=document.querySelector("[data-menu]");D.addEventListener("click",()=>{w.classList.add("is-open"),document.body.style.overflow="hidden"});O.addEventListener("click",()=>{w.classList.remove("is-open"),document.body.style.overflow=""});document.querySelectorAll(".nav-link-mob").forEach(e=>e.addEventListener("click",()=>{w.classList.remove("is-open"),document.body.style.overflow=""}));console.log(document.querySelector("[data-menu-open]"));console.log(document.querySelector("[data-menu]"));const l={dropdownToggle:document.querySelector(".dropdown-toggle"),dropdownMenu:document.querySelector(".dropdown-menu"),categoriesList:document.querySelector(".categories-list"),bookCardList:document.querySelector(".books-cards-list"),showMoreBtn:document.querySelector(".show-more-btn")};y.defaults.baseURL="https://books-backend.p.goit.global";function k(e,t){throw console.error(`${t} error:`,e.message||e),e}async function W(){try{return(await y.get("/books/category-list")).data.filter(o=>o.list_name&&o.list_name.trim()!=="").map(o=>o.list_name)}catch(e){k(e,"getCategoryList")}}async function N(){try{return(await y.get("/books/top-books")).data.flatMap(o=>o.books)}catch(e){k(e,"getTopBooks")}}async function V(e){try{const{data:t}=await y.get("/books/category",{params:{category:e}});return console.log(t),t}catch(t){k(t,"getBooksByCategory")}}function j(e){const o=["All categories",...e].map(r=>`<li class="dropdown-item">${r}</li>`).join("");l.dropdownMenu.innerHTML=o}function F(e){const o=["All categories",...e].map(r=>`<li class="categories-item" data-category="${r}">${r}</li>`).join("");l.categoriesList.innerHTML=o}function z(e){const t=e.map(({_id:o,book_image:r,description:s="description || title",title:n,author:c,price:d})=>`<li class="books-card" data-id="${o}">
        <img class="books-card-image" src="${r}" alt="${s}" />
        <div class="books-card-text-wrapper">
          <h3 class="books-card-title">${n}</h3>
          <p class="books-card-author">${c}</p>
        </div>
        <p class="books-card-price">$${d}</p>
        <button class="books-card-btn" type="button">Learn More</button>
      </li>`).join("");l.bookCardList.innerHTML=t}function H(){const e=l.dropdownToggle,t=l.dropdownMenu;!e||!t||e.dataset.dropdownInited!=="true"&&(e.addEventListener("click",o=>{o.stopPropagation(),t.classList.toggle("open"),e.classList.toggle("active")}),t.addEventListener("click",o=>{const r=o.target.closest(".dropdown-item");if(!r)return;e.textContent=r.textContent,t.classList.remove("open"),e.classList.remove("active");const s=r.dataset.category,n=new CustomEvent("category:selected",{detail:{category:s}});document.dispatchEvent(n)}),document.addEventListener("click",o=>{!t.contains(o.target)&&!e.contains(o.target)&&(t.classList.remove("open"),e.classList.remove("active"))}),e.dataset.dropdownInited="true")}let M=[],K="All categories";function R(){return window.innerWidth<768?10:24}function _(){const e=R(),t=M.slice(0,e);z(t)}async function b(e){try{K=e;let t;e==="All categories"||e==="All"||!e?t=await N():t=await V(e),M=t,_()}catch(t){console.error("loadBooksByCategory error:",t)}}async function G(){try{const e=await W();j(e),F(e),H(),l.dropdownMenu.addEventListener("click",t=>{const o=t.target.closest(".dropdown-item");if(!o)return;const r=o.dataset.category||o.textContent.trim();l.dropdownToggle.textContent=o.textContent.trim(),b(r)}),l.categoriesList.addEventListener("click",t=>{const o=t.target.closest(".categories-item");if(!o)return;const r=o.dataset.category||o.textContent.trim();l.categoriesList.querySelectorAll(".categories-item").forEach(s=>s.classList.remove("active")),o.classList.add("active"),b(r)})}catch(e){console.error("initCategories error:",e)}}async function U(){await G(),await b("All categories")}window.addEventListener("resize",()=>{_()});U();new E(".swiper",{modules:[x,S],slidesPerView:1,loop:!1,navigation:{nextEl:".hero__button--next",prevEl:".hero__button--prev"},on:{init:function(){B(this)},slideChange:function(){B(this)}}});function B(e){const t=document.querySelector(".hero__button--prev"),o=document.querySelector(".hero__button--next");t.disabled=e.isBeginning,o.disabled=e.isEnd}new E(".swiper-feedbacks",{modules:[x,S,T,I,P],wrapperClass:"feedbacks__list",slideClass:"feedbacks__elements",loop:!1,speed:400,spaceBetween:24,slidesPerView:3,watchOverflow:!0,simulateTouch:!0,grabCursor:!0,autoplay:{delay:5e3,disableOnInteraction:!1},keyboard:{enabled:!0,onlyInViewport:!0},a11y:{enabled:!0,containerRoleDescriptionMessage:"Testimonials slider",slideRole:"listitem",prevSlideMessage:"Previous testimonials",nextSlideMessage:"Next testimonials"},navigation:{nextEl:".feedbacks__btn--next",prevEl:".feedbacks__btn--prev",disabledClass:"is-disabled"},pagination:{el:".feedbacks__dots",clickable:!0,bulletClass:"feedbacks__dots-elem",bulletActiveClass:"is-active",renderBullet:(e,t)=>`<span class="${t}" aria-label="Go to slide group ${e+1}"></span>`},breakpoints:{0:{slidesPerView:1,spaceBetween:16},768:{slidesPerView:2,spaceBetween:24},1440:{slidesPerView:3,spaceBetween:24}}});console.log("Events.js loaded");document.addEventListener("DOMContentLoaded",()=>{console.log("DOMContentLoaded fired in events.js");const e=document.querySelector(".events-list"),t=document.querySelectorAll(".event-item"),o=document.querySelector(".slider-btn.prev"),r=document.querySelector(".slider-btn.next"),s=document.querySelectorAll(".pagination-dot");if(!e||!t.length){console.error("Slider elements not found");return}let n=0;function c(){return window.innerWidth>=1440?3:window.innerWidth>=768?2:1}function d(){const i=c(),a=t[0].offsetWidth,u=(window.innerWidth>=768,24),g=n*(a+u);e.style.transform=`translateX(-${g}px)`;const q=Math.max(0,t.length-i);o&&(o.disabled=n===0),r&&(r.disabled=n>=q),s.forEach(($,A)=>{$.classList.toggle("active",A===n)})}r&&r.addEventListener("click",()=>{const i=c(),a=Math.max(0,t.length-i);n<a&&(n++,d())}),o&&o.addEventListener("click",()=>{n>0&&(n--,d())}),s.forEach((i,a)=>{i.addEventListener("click",()=>{const u=c(),g=Math.max(0,t.length-u);n=Math.min(a,g),d()})});let h;window.addEventListener("resize",()=>{clearTimeout(h),h=setTimeout(()=>{const i=c(),a=Math.max(0,t.length-i);n>a&&(n=a),d()},100)}),d();const m=document.getElementById("eventModal"),v=document.getElementById("modalEventName"),L=document.querySelector(".modal-close"),p=document.getElementById("eventForm"),C=document.querySelectorAll(".event-btn");if(!m||!v||!L||!p){console.error("Modal elements not found");return}console.log("Found event buttons:",C.length),C.forEach((i,a)=>{console.log(`Setting up button ${a}`,i),i.addEventListener("click",u=>{u.preventDefault();const g=i.getAttribute("data-event");console.log("Button clicked, event:",g),v.textContent=g,m.classList.remove("is-hidden"),document.body.style.overflow="hidden"})});function f(){m.classList.add("is-hidden"),document.body.style.overflow="",p.reset()}L.addEventListener("click",i=>{i.preventDefault(),f()}),m.addEventListener("click",i=>{i.target===m&&f()}),document.addEventListener("keydown",i=>{i.key==="Escape"&&!m.classList.contains("is-hidden")&&f()}),p.addEventListener("submit",i=>{i.preventDefault();const a=new FormData(p),u=Object.fromEntries(a);console.log("Form submitted:",u),alert(`Thank you for registering for "${v.textContent}"! We'll contact you soon.`),f()})});async function X(){try{const e=await getCategoryList();renderCategoryList(e)}catch(e){console.error(e)}}X();async function J(){try{const e=await getTopBooks(),o=window.innerWidth<768?e.slice(0,10):e.slice(0,24);renderBookCardlist(o)}catch(e){console.error("initBooks error:",e)}}J();
//# sourceMappingURL=index.js.map
