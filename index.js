import{a as k,S as O,N as D,K as N,A as V,P as H}from"./assets/vendor-B8TLFwUd.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();const K=document.querySelector("[data-menu-open]"),U=document.querySelector("[data-menu-close]"),T=document.querySelector("[data-menu]");K.addEventListener("click",()=>{T.classList.add("is-open"),document.body.style.overflow="hidden",document.body.style.overflow="hidden"});U.addEventListener("click",()=>{T.classList.remove("is-open"),document.body.style.overflow="",document.body.style.overflow=""});document.querySelectorAll(".nav-link-mob").forEach(e=>e.addEventListener("click",()=>{T.classList.remove("is-open"),document.body.style.overflow="",document.body.style.overflow=""}));const r={dropdownToggle:document.querySelector(".dropdown-toggle"),dropdownMenu:document.querySelector(".dropdown-menu"),categoriesList:document.querySelector(".categories-list"),bookCardList:document.querySelector(".books-cards-list"),showMoreBtn:document.querySelector(".show-more-btn"),bookModalBackdrop:document.querySelector("#book-modal-backdrop"),bookModalContent:document.querySelector(".book-modal-content"),bookModalClose:document.querySelector("#book-modal-close"),booksShown:document.querySelector(".books-shown"),booksTotal:document.querySelector(".books-total"),body:document.querySelector("body")};k.defaults.baseURL="https://books-backend.p.goit.global";function L(e,t){throw console.error(`${t} error:`,e.message||e),e}async function z(){try{return(await k.get("/books/category-list")).data.filter(n=>n.list_name&&n.list_name.trim()!=="").map(n=>n.list_name)}catch(e){L(e,"getCategoryList")}}async function G(){try{return(await k.get("/books/top-books")).data.flatMap(n=>n.books)}catch(e){L(e,"getTopBooks")}}async function Y(e){try{const{data:t}=await k.get("/books/category",{params:{category:e}});return console.log(t),t}catch(t){L(t,"getBooksByCategory")}}async function J(e){try{const{data:t}=await k.get(`/books/${e}`);return t}catch(t){L(t,"getBookById")}}function Q(e){const n=["All categories",...e].map(i=>`<li class="dropdown-item">${i}</li>`).join("");r.dropdownMenu.innerHTML=n}function Z(e){const n=["All categories",...e].map(i=>`<li class="categories-item" data-category="${i}">${i}</li>`).join("");r.categoriesList.innerHTML=n}function ee(e){return e?e.toLowerCase().split(" ").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" "):""}function te(e){const t=e.map(({_id:n,book_image:i,description:a="description || title",title:o,author:l,price:m})=>{const p=ee(o),b=parseInt(m);return`<li class="books-card" data-id="${n}">
        <img loading="lazy" class="books-card-image" src="${i}" alt="${a}" />
         <div class="books-card-text-wrapper">

            <div class="books-card-info">
              <h3 class="books-card-title">${p}</h3>
              <p class="books-card-author">${l}</p>
            </div>

            <p class="books-card-price">$${b}</p>

          </div>
        <button class="books-card-btn" type="button">Learn More</button>
      </li>`}).join("");r.bookCardList.innerHTML=t}function oe(e){return`
    <div class="book-modal-wrapper">
      <img
        src="${e.book_image}"
        alt="${e.title}"
        class="book-modal-image"
      />
      <div class="book-modal-describe">
        <h2 class="book-modal-title">${e.title}</h2>
        <p class="book-modal-author">${e.author}</p>
        <p class="book-modal-price">$${e.price}</p>

        <div class="book-modal-actions">
          <div class="quantity-control">
            <button class="qty-btn" data-action="decrease">-</button>
            <span class="qty-value">1</span>
            <button class="qty-btn" data-action="increase">+</button>
          </div>
          <div class="book-modal-btn">
            <button class="add-to-cart-btn">Add To Cart</button>
            <button class="buy-now-btn">Buy Now</button>
          </div>
        </div>

        <div class="book-modal-details">
          <details>
            <summary>Details</summary>
            <p>${e.description||e.title}</p>
          </details>
          <details>
            <summary>Shipping</summary>
            <p>We ship across the United States within 2–5 business days. All orders are processed through USPS or a reliable courier service. Enjoy free standard shipping on orders over $50.</p>
          </details>
          <details>
            <summary>Returns</summary>
            <p>You can return an item within 14 days of receiving your order, provided it hasn’t been used and is in its original condition. To start a return, please contact our support team — we’ll guide you through the process quickly and hassle-free.</p>
          </details>
        </div>
      </div>
    </div>
  `}function ne(){const e=r.dropdownToggle,t=r.dropdownMenu;!e||!t||e.dataset.dropdownInited!=="true"&&(e.addEventListener("click",n=>{n.stopPropagation(),t.classList.toggle("open"),e.classList.toggle("active")}),t.addEventListener("click",n=>{const i=n.target.closest(".dropdown-item");if(!i)return;e.textContent=i.textContent,t.classList.remove("open"),e.classList.remove("active");const a=i.dataset.category,o=new CustomEvent("category:selected",{detail:{category:a}});document.dispatchEvent(o)}),document.addEventListener("click",n=>{!t.contains(n.target)&&!e.contains(n.target)&&(t.classList.remove("open"),e.classList.remove("active"))}),e.dataset.dropdownInited="true")}function se(){r.bookCardList&&r.bookCardList.dataset.modalInited!=="true"&&(r.bookCardList.addEventListener("click",re),r.bookCardList.dataset.modalInited="true")}async function re(e){const t=e.target.closest(".books-card-btn");if(!t)return;const i=t.closest(".books-card").dataset.id;if(i){console.log(i);try{const a=await J(i);ae(a)}catch(a){console.error("❌ Error loading book details:",a)}}}function ae(e){r.bookModalContent.innerHTML=oe(e),r.bookModalBackdrop.classList.remove("is-hidden"),r.bookModalClose.addEventListener("click",E),r.bookModalBackdrop.addEventListener("click",X),document.addEventListener("keydown",j),r.body.classList.add("noScroll")}function E(){r.bookModalBackdrop.classList.add("is-hidden"),r.bookModalContent.innerHTML="",r.bookModalClose.removeEventListener("click",E),r.bookModalBackdrop.removeEventListener("click",X),document.removeEventListener("keydown",j),r.body.classList.remove("noScroll")}function X(e){e.target===r.bookModalBackdrop&&E()}function j(e){e.key==="Escape"&&E()}let v=[],ie="All categories",g=0;const ce=4;function de(){return window.innerWidth<768?10:24}function le(){g>=v.length?r.showMoreBtn.classList.add("is-hidden"):r.showMoreBtn.classList.remove("is-hidden")}function I(){g=Math.min(g,v.length);const e=v.slice(0,g);te(e),r.booksShown&&(r.booksShown.textContent=g),r.booksTotal&&(r.booksTotal.textContent=v.length),le(),se()}async function q(e){try{ie=e;let t;e==="All categories"||e==="All"||!e?t=await G():t=await Y(e),v=t,g=de(),I()}catch(t){console.error("loadBooksByCategory error:",t)}}function ue(){g+=ce,I()}async function me(){try{const e=await z();Q(e),Z(e),ne(),r.dropdownMenu.addEventListener("click",t=>{const n=t.target.closest(".dropdown-item");if(!n)return;const i=n.dataset.category||n.textContent.trim();r.dropdownToggle.textContent=n.textContent.trim(),q(i)}),r.categoriesList.addEventListener("click",t=>{const n=t.target.closest(".categories-item");if(!n)return;const i=n.dataset.category||n.textContent.trim();r.categoriesList.querySelectorAll(".categories-item").forEach(a=>a.classList.remove("active")),n.classList.add("active"),q(i)})}catch(e){console.error("initCategories error:",e)}}async function fe(){await me(),await q("All categories")}r.showMoreBtn.addEventListener("click",ue);window.addEventListener("resize",()=>{I()});fe();const C=document.querySelector(".hero__button--prev"),M=document.querySelector(".hero__button--next");if(C&&M){let e=function(t){C.disabled=t.isBeginning,M.disabled=t.isEnd};new O(".swiper",{modules:[D,N,V],slidesPerView:1,speed:400,grabCursor:!0,watchOverflow:!0,simulateTouch:!0,loop:!1,navigation:{nextEl:M,prevEl:C},autoplay:{delay:5e3,disableOnInteraction:!1},keyboard:{enabled:!0,onlyInViewport:!0},on:{init:e,slideChange:e}})}const x=document.querySelector(".feedbacks__btn--prev"),S=document.querySelector(".feedbacks__btn--next");if(x&&S){let e=function(t){x.disabled=t.isBeginning,S.disabled=t.isEnd};new O(".swiper-feedbacks",{modules:[D,N,V,H],slidesPerView:1,speed:400,grabCursor:!0,watchOverflow:!0,simulateTouch:!0,loop:!1,navigation:{nextEl:S,prevEl:x},autoplay:{delay:5e3,disableOnInteraction:!1},breakpoints:{0:{slidesPerView:1,spaceBetween:0},768:{slidesPerView:2,spaceBetween:24},1440:{slidesPerView:3,spaceBetween:24}},keyboard:{enabled:!0,onlyInViewport:!0},on:{init:e,slideChange:e},pagination:{el:".feedbacks__dots",clickable:!0,bulletElement:"button",bulletClass:"feedbacks__dots-elem",bulletActiveClass:"is-active"}})}console.log("Events.js loaded");document.addEventListener("DOMContentLoaded",()=>{console.log("DOMContentLoaded fired in events.js");const e=document.querySelector(".events-list"),t=document.querySelectorAll(".event-item"),n=document.querySelector(".slider-btn.prev"),i=document.querySelector(".slider-btn.next"),a=document.querySelectorAll(".pagination-dot");if(!e||!t.length){console.error("Slider elements not found");return}let o=0;function l(){return window.innerWidth>=1440?3:window.innerWidth>=768?2:1}function m(){const s=l(),c=t[0].offsetWidth,d=(window.innerWidth>=768,24),u=o*(c+d);e.style.transform=`translateX(-${u}px)`;const f=Math.max(0,t.length-s);n&&(n.disabled=o===0),i&&(i.disabled=o>=f),a.forEach((W,R)=>{W.classList.toggle("active",R===o)})}i&&i.addEventListener("click",()=>{const s=l(),c=Math.max(0,t.length-s);o<c&&(o++,m())}),n&&n.addEventListener("click",()=>{o>0&&(o--,m())}),document.addEventListener("keydown",s=>{const c=document.activeElement;if(!(c&&(c.tagName==="INPUT"||c.tagName==="TEXTAREA"||c.isContentEditable)))if(s.key==="ArrowRight"){const u=l(),f=Math.max(0,t.length-u);o<f&&(o++,m())}else s.key==="ArrowLeft"&&o>0&&(o--,m())});let p=0,b=!1;e.addEventListener("mousedown",s=>{s.target.closest("button, a, input, textarea, select")||(b=!0,p=s.clientX)}),e.addEventListener("mouseup",s=>{if(!b)return;const c=s.clientX,d=p-c;if(Math.abs(d)>50){if(d>0){const u=l(),f=Math.max(0,t.length-u);o<f&&o++}else o>0&&o--;m()}b=!1}),e.addEventListener("mouseleave",()=>{b=!1}),e.addEventListener("touchstart",s=>{!s.touches||!s.touches[0]||(p=s.touches[0].clientX)}),e.addEventListener("touchend",s=>{if(!s.changedTouches||!s.changedTouches[0])return;const c=s.changedTouches[0].clientX,d=p-c;if(Math.abs(d)>50){if(d>0){const u=l(),f=Math.max(0,t.length-u);o<f&&o++}else o>0&&o--;m()}}),a.forEach((s,c)=>{s.addEventListener("click",()=>{const d=l(),u=Math.max(0,t.length-d);o=Math.min(c,u),m()})});let A;window.addEventListener("resize",()=>{clearTimeout(A),A=setTimeout(()=>{const s=l(),c=Math.max(0,t.length-s);o>c&&(o=c),m()},100)}),m();const y=document.getElementById("eventModal"),B=document.getElementById("modalEventName"),$=document.querySelector(".modal-close"),h=document.getElementById("eventForm"),_=document.querySelectorAll(".event-btn");if(!y||!B||!$||!h){console.error("Modal elements not found");return}console.log("Found event buttons:",_.length);function P(s){s.key==="Escape"&&w()}function F(s){B.textContent=s,y.classList.remove("is-hidden"),document.body.style.overflow="hidden",document.addEventListener("keydown",P)}function w(){y.classList.add("is-hidden"),document.body.style.overflow="",h.reset(),document.removeEventListener("keydown",P)}_.forEach((s,c)=>{console.log(`Setting up button ${c}`,s),s.addEventListener("click",d=>{d.preventDefault();const u=s.getAttribute("data-event");console.log("Button clicked, event:",u),F(u)})}),$.addEventListener("click",s=>{s.preventDefault(),w()}),y.addEventListener("click",s=>{s.target===y&&w()}),h.addEventListener("submit",s=>{s.preventDefault();const c=new FormData(h),d=Object.fromEntries(c);console.log("Form submitted:",d),alert(`Thank you for registering for "${B.textContent}"! We'll contact you soon.`),w()})});
//# sourceMappingURL=index.js.map
