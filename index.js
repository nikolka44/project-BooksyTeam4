import{a as l,S as d,N as p,P as u,K as b,A as f,b as m}from"./assets/vendor-Dal2vjfK.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))a(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function o(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerPolicy&&(r.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?r.credentials="include":t.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function a(t){if(t.ep)return;t.ep=!0;const r=o(t);fetch(t.href,r)}})();l.defaults.baseURL="https://books-backend.p.goit.global/";async function w(){try{const e=await l.get("books/category-list");return console.log(e.data),e.data.filter(o=>o.list_name&&o.list_name.trim()!=="").map(o=>o.list_name)}catch(e){throw console.error("getCategoryList error:",e),e}}async function y(){try{const e=await l.get("books/top-books");console.log(e.data);const s=e.data.flatMap(o=>o.books);return console.log(s),s}catch(e){throw console.error("getTopBooks error:",e),e}}const n={dropdownToggle:document.querySelector(".dropdown-toggle"),dropdownMenu:document.querySelector(".dropdown-menu"),bookCardlist:document.querySelector(".books-cards-list")};function k(e){e.unshift("All");const s=e.map(o=>`<li class="dropdown-item">${o}</li>`).join("");n.dropdownMenu.innerHTML=s,n.dropdownToggle.addEventListener("click",o=>{o.stopPropagation(),n.dropdownMenu.classList.toggle("open"),n.dropdownToggle.classList.toggle("active")}),n.dropdownMenu.addEventListener("click",o=>{o.target.classList.contains("dropdown-item")&&(n.dropdownToggle.textContent=o.target.textContent,n.dropdownMenu.classList.remove("open"),n.dropdownToggle.classList.remove("active"))}),document.addEventListener("click",o=>{!n.dropdownMenu.contains(o.target)&&!n.dropdownToggle.contains(o.target)&&(n.dropdownMenu.classList.remove("open"),n.dropdownToggle.classList.remove("active"))})}function h(e){const s=e.map(({_id:o,book_image:a,description:t,title:r,author:i,price:g})=>`<li class="books-card" data-id="${o}>
        <img class="books-card-image" src="${a}" alt="${t}" />
        <div class="books-card-text-wrapper">
          <h3 class="books-card-title">${r}</h3>
          <p class="books-card-author">${i}</p>
        </div>
        <p class="books-card-price">${g}</p>
        <button class="books-card-btn" type="button">Learn More</button>
      </li>`).join("");n.bookCardlist.innerHTML=s}new d(".swiper",{modules:[p,u],slidesPerView:1,loop:!1,navigation:{nextEl:".hero__button--next",prevEl:".hero__button--prev"},on:{init:function(){c(this)},slideChange:function(){c(this)}}});function c(e){const s=document.querySelector(".hero__button--prev"),o=document.querySelector(".hero__button--next");s.disabled=e.isBeginning,o.disabled=e.isEnd}new d(".swiper-feedbacks",{modules:[p,u,b,f,m],wrapperClass:"feedbacks__list",slideClass:"feedbacks__elements",loop:!1,speed:400,spaceBetween:24,slidesPerView:3,watchOverflow:!0,simulateTouch:!0,grabCursor:!0,autoplay:{delay:5e3,disableOnInteraction:!1},keyboard:{enabled:!0,onlyInViewport:!0},a11y:{enabled:!0,containerRoleDescriptionMessage:"Testimonials slider",slideRole:"listitem",prevSlideMessage:"Previous testimonials",nextSlideMessage:"Next testimonials"},navigation:{nextEl:".feedbacks__btn--next",prevEl:".feedbacks__btn--prev",disabledClass:"is-disabled"},pagination:{el:".feedbacks__dots",clickable:!0,bulletClass:"feedbacks__dots-elem",bulletActiveClass:"is-active",renderBullet:(e,s)=>`<span class="${s}" aria-label="Go to slide group ${e+1}"></span>`},breakpoints:{0:{slidesPerView:1,spaceBetween:16},768:{slidesPerView:2,spaceBetween:24},1024:{slidesPerView:3,spaceBetween:24}}});async function v(){try{const e=await w();k(e)}catch(e){console.error(e)}}v();async function _(){try{const e=await y(),o=window.innerWidth<768?e.slice(0,10):e.slice(0,24);h(o)}catch(e){console.error("initBooks error:",e)}}_();
//# sourceMappingURL=index.js.map
